NSERT INTO `nnk_code`.`ecsys_model_config` (`id`, `file_name`, `model_content`, `model_name`, `model_type`, `save_path`, `status`, `create_time`, `update_time`) VALUES ('1', 'model.proto', '//${tableInfo.tableComment}\r\nmessage ${tableInfo.entityName?cap_first} {\r\n<#list tableInfo.columns as column>\r\n    optional ${column.protoType} ${column.columnName} = ${column_index + 1};	//${column.protoComment}\r\n</#list>\r\n}', 'model.proto', '1', 'protobuf', '0', '1511164072976', NULL);
INSERT INTO `nnk_code`.`ecsys_model_config` (`id`, `file_name`, `model_content`, `model_name`, `model_type`, `save_path`, `status`, `create_time`, `update_time`) VALUES ('2', '${tableInfo.modulePkg}.proto', 'package com.nnk.ecsys.protocol.cms;\r\n\r\noption optimize_for = LITE_RUNTIME;\r\n\r\nimport \"common/enum.proto\";\r\nimport \"common/errorCode.proto\";\r\nimport \"common/utils.proto\";\r\nimport \"common/order.proto\";\r\nimport \"model.proto\";\r\n\r\n\r\n\r\n// ##################################${tableInfo.tableComment}#############################################\r\n// 功能: 创建${tableInfo.entityName?cap_first}\r\n// 路径: /${tableInfo.modulePkg?uncap_first}/create${tableInfo.entityName?cap_first}\r\nmessage Create${tableInfo.entityName?cap_first}Request {\r\n    required ${tableInfo.entityName?cap_first} ${tableInfo.infoName} = 1;\r\n    optional sint64 operateUserId = 2;\r\n}\r\nmessage Create${tableInfo.entityName?cap_first}Response {\r\n    required common.CommonErrorCodeResponse errorCode = 1;\r\n    optional sint64 ${tableInfo.priKey} = 2;	// 如果创建成功，返回记录的ID\r\n}\r\n\r\n\r\n// ###############################################################################################\r\n// 功能: 删除${tableInfo.entityName?cap_first}，只能假删除\r\n// 路径: /${tableInfo.modulePkg?uncap_first}/delete${tableInfo.entityName?cap_first}\r\nmessage Delete${tableInfo.entityName?cap_first}Request {\r\n    repeated sint64 ${tableInfo.priKey} = 1;\r\n    optional sint64 operateUserId = 2;\r\n}\r\nmessage Delete${tableInfo.entityName?cap_first}Response {\r\n    required common.CommonErrorCodeResponse errorCode = 1;\r\n}\r\n\r\n\r\n// ###############################################################################################\r\n// 功能: 修改${tableInfo.entityName?cap_first}\r\n// 路径: /${tableInfo.modulePkg?uncap_first}/update${tableInfo.entityName?cap_first}\r\nmessage Update${tableInfo.entityName?cap_first}Request {\r\n    optional ${tableInfo.entityName?cap_first} ${tableInfo.infoName} = 1;\r\n    optional sint64 operateUserId = 2;\r\n}\r\nmessage Update${tableInfo.entityName?cap_first}Response {\r\n    required common.CommonErrorCodeResponse errorCode = 1;\r\n}\r\n\r\n\r\n// ###############################################################################################\r\n// 功能: 查询${tableInfo.entityName?cap_first}\r\n// 路径: /${tableInfo.modulePkg?uncap_first}/query${tableInfo.entityName?cap_first}\r\nmessage Query${tableInfo.entityName?cap_first}Request {\r\n    optional common.CommonPaginationRequest pagination = 1;	// 翻页\r\n    optional ${tableInfo.entityName?cap_first} ${tableInfo.infoName} = 2;	// 查询条件\r\n    optional common.CommonTimeRange updateTime = 3;		// 更新时间\r\n    optional common.CommonTimeRange createTime = 4;		// 创建时间\r\n    repeated sint64 ${tableInfo.priKey} = 5;		// 多个ID\r\n}\r\nmessage Query${tableInfo.entityName?cap_first}Response {\r\n    required common.CommonErrorCodeResponse errorCode = 1;\r\n    optional common.CommonPaginationResponse pagination = 2;	// 查询成功则返回\r\n    repeated ${tableInfo.entityName?cap_first} result = 3;			// 结果集\r\n}', 'protobuf.proto', '1', 'protobuf', '0', '1511164072976', NULL);
INSERT INTO `nnk_code`.`ecsys_model_config` (`id`, `file_name`, `model_content`, `model_name`, `model_type`, `save_path`, `status`, `create_time`, `update_time`) VALUES ('3', '${tableInfo.infoName?cap_first}Service.java', 'package com.nnk.ecsys.cms.module.${tableInfo.modulePkg?uncap_first}.service;\r\n\r\nimport com.nnk.ecsys.cms.model.common.PaginationResponse;\r\nimport com.nnk.ecsys.cms.model.common.ServiceResponse;\r\nimport com.nnk.ecsys.database.mapper.${tableInfo.sqlFile}.entity.${tableInfo.protoEntity?cap_first};\r\nimport com.nnk.ecsys.protocol.cms.${tableInfo.protoFile?cap_first};\r\nimport com.nnk.ecsys.utils.exception.CommonErrorException;\r\n\r\nimport java.util.List;\r\n\r\n/**\r\n * Created by Administrator on .\r\n */\r\npublic interface ${tableInfo.infoName?cap_first}Service {\r\n\r\n    /**\r\n     * 创建${tableInfo.tableComment}\r\n     * @param ${tableInfo.protoEntity?uncap_first}\r\n     * @return\r\n     * @throws CommonErrorException\r\n     */\r\n    public ServiceResponse create${tableInfo.protoEntity?cap_first}(${tableInfo.protoEntity?cap_first} ${tableInfo.protoEntity?uncap_first});\r\n\r\n    /**\r\n     * 删除${tableInfo.tableComment}\r\n     * @param ${tableInfo.priKey}s\r\n     * @return\r\n     * @throws CommonErrorException\r\n     */\r\n    public ServiceResponse delete${tableInfo.protoEntity?cap_first}(List<Long> ${tableInfo.priKey}s);\r\n\r\n    /**\r\n     * 修改${tableInfo.tableComment}\r\n     * @param ${tableInfo.protoEntity?uncap_first}\r\n     * @return\r\n     * @throws CommonErrorException\r\n     */\r\n    public ServiceResponse update${tableInfo.protoEntity?cap_first}(${tableInfo.protoEntity?cap_first} ${tableInfo.protoEntity?uncap_first});\r\n\r\n    /**\r\n     * 查询${tableInfo.tableComment}\r\n     * @param request\r\n     * @return\r\n     */\r\n    public PaginationResponse<${tableInfo.protoEntity?cap_first}> query${tableInfo.protoEntity?cap_first}(${tableInfo.protoFile?cap_first}.Query${tableInfo.protoEntity?cap_first}Request request);\r\n\r\n}\r\n', 'service.java', '1', 'server/java/com/nnk/ecsys/cms/module/${tableInfo.modulePkg?uncap_first}/service', '0', '1511164072976', NULL);
INSERT INTO `nnk_code`.`ecsys_model_config` (`id`, `file_name`, `model_content`, `model_name`, `model_type`, `save_path`, `status`, `create_time`, `update_time`) VALUES ('4', '${tableInfo.infoName?cap_first}ServiceImpl.java', 'package com.nnk.ecsys.cms.module.${tableInfo.modulePkg?uncap_first}.service.fade;\r\n\r\nimport com.nnk.ecsys.cms.common.CmsIdGenerator;\r\nimport com.nnk.ecsys.cms.common.Validator;\r\nimport com.nnk.ecsys.cms.exception.DatabaseOperateException;\r\nimport com.nnk.ecsys.cms.module.${tableInfo.modulePkg?uncap_first}.mapper.${tableInfo.entityName?cap_first}Mapper;\r\nimport com.nnk.ecsys.cms.model.common.PaginationRequest;\r\nimport com.nnk.ecsys.cms.model.common.PaginationResponse;\r\nimport com.nnk.ecsys.cms.model.common.ServiceResponse;\r\nimport com.nnk.ecsys.cms.module.${tableInfo.modulePkg?uncap_first}.service.${tableInfo.infoName?cap_first}Service;\r\nimport com.nnk.ecsys.database.mapper.${tableInfo.sqlFile}.entity.${tableInfo.entityName?cap_first};\r\nimport com.nnk.ecsys.protocol.cms.${tableInfo.modulePkg?cap_first};\r\nimport com.nnk.ecsys.protocol.common.Enum;\r\nimport com.nnk.ecsys.utils.collection.CollectionsUtil;\r\nimport com.nnk.ecsys.utils.date.DateUtils;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.util.List;\r\n\r\n/**\r\n * @author : yuderen\r\n * @version: ${.now}\r\n */\r\n@Service\r\npublic class ${tableInfo.infoName?cap_first}ServiceImpl implements ${tableInfo.infoName?cap_first}Service {\r\n\r\n    @Autowired\r\n    private ${tableInfo.protoEntity?cap_first}Mapper ${tableInfo.protoEntity?uncap_first}Mapper;\r\n\r\n    @Override\r\n    public ServiceResponse create${tableInfo.protoEntity?cap_first}(${tableInfo.entityName?cap_first} ${tableInfo.entityName?uncap_first}){\r\n        ServiceResponse<Long> response = new ServiceResponse<Long>();\r\n        ${tableInfo.entityName?uncap_first}.set${tableInfo.priKey?cap_first}(CmsIdGenerator.generateId());\r\n        ${tableInfo.entityName?uncap_first}.setCreateTime(DateUtils.getCurrentMilliseconds());\r\n        ${tableInfo.entityName?uncap_first}.setUpdateTime(DateUtils.getCurrentMilliseconds());\r\n        ${tableInfo.entityName?uncap_first}.setRecordStatus(Enum.CommonRecordStatus.COMMON_RECORD_STATUS_ENABLED_VALUE);\r\n        int num = ${tableInfo.protoEntity?uncap_first}Mapper.insertSelective(${tableInfo.entityName?uncap_first});\r\n        if(num > 0){\r\n            response.setResult(${tableInfo.entityName?uncap_first}.get${tableInfo.priKey?cap_first}());\r\n        }\r\n        return response;\r\n    }\r\n\r\n    @Override\r\n    public ServiceResponse delete${tableInfo.protoEntity?cap_first}(List<Long> ${tableInfo.priKey}s){\r\n        ServiceResponse response = new ServiceResponse();\r\n        if (Validator.isInvalidField(CollectionsUtil.isNotEmpty(${tableInfo.priKey}s), \"删除的集合${tableInfo.priKey}不能为空\", response))\r\n            return response;\r\n        int num = 0;\r\n        for(Long ${tableInfo.priKey} : ${tableInfo.priKey}s){\r\n            ${tableInfo.entityName?cap_first} ${tableInfo.entityName?uncap_first} = ${tableInfo.protoEntity?uncap_first}Mapper.selectByPrimaryKey(${tableInfo.priKey});\r\n            if(null != ${tableInfo.entityName?uncap_first}){\r\n                ${tableInfo.entityName?uncap_first}.setUpdateTime(DateUtils.getCurrentMilliseconds());\r\n                ${tableInfo.entityName?uncap_first}.setRecordStatus(Enum.CommonRecordStatus.COMMON_RECORD_STATUS_REMOVED_VALUE);\r\n                num = ${tableInfo.protoEntity?uncap_first}Mapper.updateByPrimaryKeySelective(${tableInfo.entityName?uncap_first});\r\n                if (num <= 0) {\r\n                    throw new DatabaseOperateException(\"更新记录失败\");\r\n                }\r\n            }\r\n        }\r\n        return response;\r\n    }\r\n\r\n    @Override\r\n    public ServiceResponse update${tableInfo.protoEntity?cap_first}(${tableInfo.entityName?cap_first} ${tableInfo.entityName?uncap_first}) {\r\n        ServiceResponse response = new ServiceResponse();\r\n        ${tableInfo.entityName?cap_first} update = ${tableInfo.protoEntity?uncap_first}Mapper.selectByPrimaryKey(${tableInfo.entityName?uncap_first}.get${tableInfo.priKey?cap_first}());\r\n        if(null != update){\r\n            ${tableInfo.entityName?uncap_first}.setUpdateTime(DateUtils.getCurrentMilliseconds());\r\n            ${tableInfo.protoEntity?uncap_first}Mapper.updateByPrimaryKeySelective(${tableInfo.entityName?uncap_first});\r\n        }\r\n        return response;\r\n    }\r\n\r\n    @Override\r\n    public PaginationResponse<${tableInfo.entityName?cap_first}> query${tableInfo.protoEntity?cap_first}(${tableInfo.protoFile?cap_first}.Query${tableInfo.protoEntity?cap_first}Request request) {\r\n        PaginationRequest page = new PaginationRequest(request.getPagination());\r\n        int total = ${tableInfo.protoEntity?uncap_first}Mapper.find${tableInfo.entityName?cap_first}Count(request);\r\n        List<${tableInfo.entityName?cap_first}> result = ${tableInfo.protoEntity?uncap_first}Mapper.findPaged${tableInfo.entityName?cap_first}(page,request);\r\n        PaginationResponse<${tableInfo.entityName?cap_first}> response = new PaginationResponse<${tableInfo.entityName?cap_first}>(total,page,result);\r\n        return response;\r\n    }\r\n\r\n}\r\n', 'serviceImpl.java', '1', 'server/java/com/nnk/ecsys/cms/module/${tableInfo.modulePkg?uncap_first}/service/fade', '0', '1511164072976', NULL);
INSERT INTO `nnk_code`.`ecsys_model_config` (`id`, `file_name`, `model_content`, `model_name`, `model_type`, `save_path`, `status`, `create_time`, `update_time`) VALUES ('5', '${tableInfo.protoEntity?cap_first}Mapper.java', 'package com.nnk.ecsys.cms.module.${tableInfo.modulePkg?uncap_first}.mapper;\r\n\r\nimport com.nnk.ecsys.cms.model.common.PaginationRequest;\r\nimport com.nnk.ecsys.database.mapper.${tableInfo.sqlFile}.entity.${tableInfo.entityName?cap_first};\r\nimport com.nnk.ecsys.protocol.cms.${tableInfo.protoFile?cap_first};\r\nimport org.apache.ibatis.annotations.Param;\r\n\r\nimport java.util.List;\r\n\r\n/**\r\n * @author : yuderen\r\n * @version: ${.now}\r\n */\r\npublic interface ${tableInfo.protoEntity?cap_first}Mapper extends com.nnk.ecsys.database.mapper.${tableInfo.sqlFile}.mapper.${tableInfo.entityName?cap_first}Mapper{\r\n\r\n    int find${tableInfo.protoEntity?cap_first}Count(@Param(\"params\") ${tableInfo.protoFile?cap_first}.Query${tableInfo.protoEntity?cap_first}Request params);\r\n\r\n    List<${tableInfo.entityName?cap_first}> findPaged${tableInfo.protoEntity?cap_first}(@Param(\"page\") PaginationRequest page,@Param(\"params\") ${tableInfo.protoFile?cap_first}.Query${tableInfo.protoEntity?cap_first}Request params);\r\n\r\n}\r\n', 'mapper.java', '1', 'server/java/com/nnk/ecsys/cms/module/${tableInfo.modulePkg?uncap_first}/mapper', '0', '1511164072976', NULL);
INSERT INTO `nnk_code`.`ecsys_model_config` (`id`, `file_name`, `model_content`, `model_name`, `model_type`, `save_path`, `status`, `create_time`, `update_time`) VALUES ('6', '${tableInfo.protoEntity?cap_first}Mapper.xml', '<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\r\n<!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\" \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\" >\r\n<mapper namespace=\"com.nnk.ecsys.cms.module.${tableInfo.modulePkg}.mapper.${tableInfo.protoEntity?cap_first}Mapper\" >\r\n    <select id=\"find${tableInfo.entityName?cap_first}Count\" resultType=\"java.lang.Integer\">\r\n        select count(1) from ${tableInfo.tableName} s0\r\n        <include refid=\"find${tableInfo.entityName?cap_first}Where\"></include>\r\n    </select>\r\n    <select id=\"findPaged${tableInfo.entityName?cap_first}\" resultType=\"com.nnk.ecsys.database.mapper.${tableInfo.sqlFile}.entity.${tableInfo.entityName?cap_first}\">\r\n        select * from ${tableInfo.tableName} s0\r\n        <include refid=\"find${tableInfo.entityName?cap_first}Where\"></include>\r\n        <include refid=\"com.nnk.ecsys.cms.mapper.common.CommonSegmentMapper.OrderBy\"></include>\r\n        limit ${\'#\'}{page.index,jdbcType=INTEGER},${\'#\'}{page.count,jdbcType=INTEGER}\r\n    </select>\r\n\r\n    <sql id=\"find${tableInfo.entityName?cap_first}Where\">\r\n        <trim prefix=\"WHERE\" prefixOverrides=\"AND|OR\">\r\n            <if test=\"params.has${tableInfo.infoName?cap_first}()\">\r\n                <bind name=\"${tableInfo.entityName}\" value=\"params.get${tableInfo.infoName?cap_first}()\" ></bind>\r\n                <include refid=\"${tableInfo.entityName}Sql\" ></include>\r\n            </if>\r\n            <!-- 扩展条件 -->\r\n            <!-- 其他查询条件 -->\r\n            <include refid=\"timeWhere\"></include>\r\n            <if test=\"params.get${tableInfo.priKey?cap_first}Count()>0\" >\r\n                AND s0.${tableInfo.priKey} in\r\n                <foreach item=\"item\" index=\"index\" collection=\"params.get${tableInfo.priKey?cap_first}List()\"\r\n                         open=\"(\" separator=\",\" close=\")\">\r\n                    ${\'#\'}{item}\r\n                </foreach>\r\n            </if>\r\n        </trim>\r\n    </sql>\r\n    <sql id=\"${tableInfo.entityName}Sql\">\r\n<#list tableInfo.columns as search>\r\n	<#if search.searchColumn && search.columnName != \'updateTime\' && search.columnName != \'createTime\'>\r\n        <if test=\"${tableInfo.entityName}.has${search.columnName?cap_first}()\">\r\n            <#if search.columnType == \"INT\">\r\n            AND s0.${search.columnName} = ${\'#\'}{${tableInfo.entityName}.${search.columnName}<#if search.enumBool>.number</#if>,jdbcType=INTEGER}\r\n            <#elseif search.columnType == \"VARCHAR\" || search.columnType == \"TEXT\">\r\n            AND s0.${search.columnName} LIKE CONCAT(\'%\',${\'#\'}{${tableInfo.entityName}.${search.columnName}<#if search.enumBool>.number</#if>,jdbcType=VARCHAR},\'%\')\r\n            <#else>\r\n            AND s0.${search.columnName} = ${\'#\'}{${tableInfo.entityName}.${search.columnName}<#if search.enumBool>.number</#if>,jdbcType=${search.columnType?upper_case}}\r\n            </#if>\r\n        </if>\r\n	</#if>\r\n</#list>\r\n    </sql>\r\n\r\n    <sql id=\"timeWhere\">\r\n        <if test=\"params.hasUpdateTime()\">\r\n            <if test=\"params.updateTime.hasStartTime()\" >\r\n                <![CDATA[AND s0.updateTime >= ${\'#\'}{params.updateTime.startTime,jdbcType=BIGINT}]]>\r\n            </if>\r\n            <if test=\"params.updateTime.hasEndTime()\" >\r\n                <![CDATA[AND s0.updateTime <= ${\'#\'}{params.updateTime.endTime,jdbcType=BIGINT} ]]>\r\n            </if>\r\n        </if>\r\n        <if test=\"params.hasCreateTime()\">\r\n            <if test=\"params.createTime.hasStartTime()\" >\r\n                <![CDATA[AND s0.createTime >= ${\'#\'}{params.createTime.startTime,jdbcType=BIGINT}]]>\r\n            </if>\r\n            <if test=\"params.createTime.hasEndTime()\" >\r\n                <![CDATA[AND s0.createTime <= ${\'#\'}{params.createTime.endTime,jdbcType=BIGINT} ]]>\r\n            </if>\r\n        </if>\r\n    </sql>\r\n</mapper>', 'mapper.xml', '1', 'server/resources/com/nnk/ecsys/cms/mapper/${tableInfo.modulePkg?uncap_first}', '0', '1511164072976', NULL);
INSERT INTO `nnk_code`.`ecsys_model_config` (`id`, `file_name`, `model_content`, `model_name`, `model_type`, `save_path`, `status`, `create_time`, `update_time`) VALUES ('7', '${tableInfo.protoFile?cap_first}ServiceProxyImpl.java', 'package com.nnk.ecsys.cms.module.${tableInfo.modulePkg?uncap_first}.proxy;\r\n\r\nimport com.nnk.ecsys.cms.converter.CommonConverter;\r\nimport com.nnk.ecsys.cms.model.common.PaginationResponse;\r\nimport com.nnk.ecsys.cms.model.common.ServiceResponse;\r\nimport com.nnk.ecsys.cms.module.${tableInfo.modulePkg}.converter.${tableInfo.modulePkg?cap_first}Converter;\r\nimport com.nnk.ecsys.cms.module.${tableInfo.modulePkg}.service.${tableInfo.infoName?cap_first}Service;\r\nimport com.nnk.ecsys.cms.service.proxy.${tableInfo.protoFile?cap_first}ServiceProxy;\r\nimport com.nnk.ecsys.cms.util.ConverterUtil;\r\nimport com.nnk.ecsys.database.mapper.${tableInfo.sqlFile}.entity.${tableInfo.entityName?cap_first};\r\nimport com.nnk.ecsys.protocol.cms.${tableInfo.protoFile?cap_first};\r\nimport com.nnk.ecsys.protocol.cms.Model;\r\nimport com.nnk.ecsys.protocol.common.Utils;\r\nimport com.nnk.ecsys.utils.model.error.CommonErrorCodeResponseUtils;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\n/**\r\n * @author : yuderen\r\n * @version: ${.now}\r\n */\r\n@Service\r\npublic class ${tableInfo.protoFile?cap_first}ServiceProxyImpl implements ${tableInfo.protoFile?cap_first}ServiceProxy {\r\n\r\n    @Autowired\r\n    private ${tableInfo.infoName?cap_first}Service ${tableInfo.infoName?uncap_first}Service;\r\n\r\n    @Override\r\n    public ${tableInfo.protoFile?cap_first}.Query${tableInfo.protoEntity?cap_first}Response query${tableInfo.protoEntity?cap_first}(${tableInfo.protoFile?cap_first}.Query${tableInfo.protoEntity?cap_first}Request request) {\r\n        ${tableInfo.protoFile?cap_first}.Query${tableInfo.protoEntity?cap_first}Response.Builder builder = ${tableInfo.protoFile?cap_first}.Query${tableInfo.protoEntity?cap_first}Response.newBuilder();\r\n        try{\r\n            PaginationResponse<${tableInfo.entityName?cap_first}> result = ${tableInfo.infoName?uncap_first}Service.query${tableInfo.protoEntity?cap_first}(request);\r\n            builder.setPagination(CommonConverter.toPagination(result));\r\n            builder.addAllResult(ConverterUtil.toModelList(Model.${tableInfo.protoEntity?cap_first}.class, result.getList()));\r\n            builder.setErrorCode(CommonErrorCodeResponseUtils.buildSucceedInstance());\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return builder.build();\r\n    }\r\n\r\n    @Override\r\n    public ${tableInfo.protoFile?cap_first}.Create${tableInfo.protoEntity?cap_first}Response create${tableInfo.protoEntity?cap_first}(${tableInfo.protoFile?cap_first}.Create${tableInfo.protoEntity?cap_first}Request request) {\r\n        ${tableInfo.protoFile?cap_first}.Create${tableInfo.protoEntity?cap_first}Response.Builder builder = ${tableInfo.protoFile?cap_first}.Create${tableInfo.protoEntity?cap_first}Response.newBuilder();\r\n        Utils.CommonErrorCodeResponse.Builder errorCode = Utils.CommonErrorCodeResponse.newBuilder();\r\n        try {\r\n            ServiceResponse<Long> result = ${tableInfo.infoName?uncap_first}Service.create${tableInfo.protoEntity?cap_first}(ConverterUtil.toEntity(${tableInfo.protoEntity?cap_first}.class,request.get${tableInfo.protoEntity?cap_first}()));\r\n            builder.set${tableInfo.priKey?cap_first}(CommonConverter.convertNullForLong(result.getResult()));\r\n            CommonConverter.converterCommonErrorCode(result, errorCode);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        builder.setErrorCode(errorCode);\r\n        return builder.build();\r\n    }\r\n\r\n    @Override\r\n    public ${tableInfo.protoFile?cap_first}.Delete${tableInfo.protoEntity?cap_first}Response delete${tableInfo.entityName?cap_first}(${tableInfo.protoFile?cap_first}.Delete${tableInfo.protoEntity?cap_first}Request request) {\r\n        ${tableInfo.protoFile?cap_first}.Delete${tableInfo.protoEntity?cap_first}Response.Builder builder = ${tableInfo.protoFile?cap_first}.Delete${tableInfo.protoEntity?cap_first}Response.newBuilder();\r\n        Utils.CommonErrorCodeResponse.Builder errorCode = Utils.CommonErrorCodeResponse.newBuilder();\r\n        try {\r\n            ServiceResponse result = ${tableInfo.infoName?uncap_first}Service.delete${tableInfo.protoEntity?cap_first}(request.get${tableInfo.priKey?cap_first}List());\r\n            CommonConverter.converterCommonErrorCode(result, errorCode);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        builder.setErrorCode(errorCode);\r\n        return builder.build();\r\n    }\r\n\r\n    @Override\r\n    public ${tableInfo.protoFile?cap_first}.Update${tableInfo.protoEntity?cap_first}Response update${tableInfo.protoEntity?cap_first}(${tableInfo.protoFile?cap_first}.Update${tableInfo.protoEntity?cap_first}Request request) {\r\n        ${tableInfo.protoFile?cap_first}.Update${tableInfo.protoEntity?cap_first}Response.Builder builder = ${tableInfo.protoFile?cap_first}.Update${tableInfo.protoEntity?cap_first}Response.newBuilder();\r\n        Utils.CommonErrorCodeResponse.Builder errorCode = Utils.CommonErrorCodeResponse.newBuilder();\r\n        try {\r\n            ServiceResponse result = ${tableInfo.infoName?uncap_first}Service.update${tableInfo.protoEntity?cap_first}(ConverterUtil.toEntity(${tableInfo.protoEntity?cap_first}.class,request.get${tableInfo.protoEntity?cap_first}()));\r\n            CommonConverter.converterCommonErrorCode(result, errorCode);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        builder.setErrorCode(errorCode);\r\n        return builder.build();\r\n    }\r\n\r\n}\r\n', 'proxyImpl.java', '1', 'server/java/com/nnk/ecsys/cms/module/${tableInfo.modulePkg?uncap_first}/proxy', '0', '1511164072976', NULL);
INSERT INTO `nnk_code`.`ecsys_model_config` (`id`, `file_name`, `model_content`, `model_name`, `model_type`, `save_path`, `status`, `create_time`, `update_time`) VALUES ('8', '${tableInfo.protoFile?cap_first}Converter.java', 'package com.nnk.ecsys.cms.module.${tableInfo.modulePkg?uncap_first}.converter;\r\n\r\nimport com.nnk.ecsys.database.mapper.${tableInfo.sqlFile}.entity.${tableInfo.entityName?cap_first};\r\nimport com.nnk.ecsys.protocol.cms.Model;\r\nimport com.nnk.ecsys.utils.BeanUtilsExt;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n/**\r\n * @author : yuderen\r\n * @version: ${.now}\r\n */\r\npublic class ${tableInfo.protoFile?cap_first}Converter {\r\n\r\n    public static List<Model.${tableInfo.protoEntity?cap_first}> to${tableInfo.protoEntity?cap_first}List(List<${tableInfo.entityName?cap_first}> ${tableInfo.entityName?uncap_first}List){\r\n        List<Model.${tableInfo.protoEntity?cap_first}> builderList = new ArrayList<Model.${tableInfo.protoEntity?cap_first}>();\r\n        if(null == ${tableInfo.entityName?uncap_first}List){\r\n            return builderList;\r\n        }\r\n        for (${tableInfo.entityName?cap_first} ${tableInfo.entityName?uncap_first} : ${tableInfo.entityName?uncap_first}List){\r\n            builderList.add(to${tableInfo.protoEntity?cap_first}(${tableInfo.entityName?uncap_first}));\r\n        }\r\n        return builderList;\r\n    }\r\n\r\n    public static Model.${tableInfo.protoEntity?cap_first} to${tableInfo.protoEntity?cap_first}(${tableInfo.entityName?cap_first} ${tableInfo.entityName?uncap_first}){\r\n        if(null == ${tableInfo.entityName?uncap_first}){\r\n            return null;\r\n        }\r\n        Model.${tableInfo.protoEntity?cap_first}.Builder builder = Model.${tableInfo.protoEntity?cap_first}.newBuilder();\r\n        BeanUtilsExt.copyProperties(${tableInfo.entityName?uncap_first}, builder);\r\n        return builder.build();\r\n    }\r\n\r\n    public static ${tableInfo.entityName?cap_first} to${tableInfo.entityName?cap_first}(Model.${tableInfo.protoEntity?cap_first} builder){\r\n        if(null == builder){\r\n            return null;\r\n        }\r\n        ${tableInfo.entityName?cap_first} ${tableInfo.entityName?uncap_first} = new ${tableInfo.entityName?cap_first}();\r\n        BeanUtilsExt.copyProperties(builder, ${tableInfo.entityName?uncap_first});\r\n        return ${tableInfo.entityName?uncap_first};\r\n    }\r\n\r\n}\r\n', 'converter.java', '1', 'server/java/com/nnk/ecsys/cms/module/${tableInfo.modulePkg?uncap_first}/converter', '0', '1511164072976', NULL);
INSERT INTO `nnk_code`.`ecsys_model_config` (`id`, `file_name`, `model_content`, `model_name`, `model_type`, `save_path`, `status`, `create_time`, `update_time`) VALUES ('9', '${tableInfo.protoEntity?cap_first}Query.java', 'package com.nnk.ecsys.product.cmsweb.module.${tableInfo.modulePkg?uncap_first}.model;\r\n\r\nimport com.nnk.ecsys.product.cmsweb.model.query.common.CommonQuery;\r\nimport com.nnk.ecsys.protocol.cms.Model;\r\nimport com.nnk.ecsys.protocol.cms.${tableInfo.protoFile?cap_first};\r\nimport com.nnk.ecsys.protocol.common.Enum;\r\nimport org.apache.commons.lang.StringUtils;\r\n\r\n/**\r\n * @author : yuderen\r\n * @version: ${.now}\r\n */\r\npublic class ${tableInfo.protoEntity?cap_first}Query extends CommonQuery {\r\n\r\n    public ${tableInfo.protoFile?cap_first}.Query${tableInfo.protoEntity?cap_first}Request.Builder builderQueryRequest(${tableInfo.protoFile?cap_first}.Query${tableInfo.protoEntity?cap_first}Request.Builder builder){\r\n        if(null == builder) builder  = ${tableInfo.protoFile?cap_first}.Query${tableInfo.protoEntity?cap_first}Request.newBuilder();\r\n<#list tableInfo.columns as search>\r\n<#if search.searchColumn && search.columnName != \'updateTime\' && search.columnName != \'createTime\'>\r\n    <#if search.filedType == \"String\">\r\n        if(StringUtils.isNotBlank(${search.columnName}))\r\n    <#else>\r\n        if(null != ${search.columnName} && 0 <= ${search.columnName})\r\n    </#if>\r\n    <#if search.enumBool>\r\n            get${tableInfo.entityName?cap_first}Builder().set${search.columnName?cap_first}(Enum.${search.enumType}.valueOf(${search.columnName}));\r\n    <#elseif search.amountBool>\r\n            get${tableInfo.entityName?cap_first}Builder().set${search.columnName?cap_first}(Math.round(${search.columnName}*10000));\r\n	<#else>\r\n            get${tableInfo.entityName?cap_first}Builder().set${search.columnName?cap_first}(${search.columnName});\r\n    </#if>\r\n</#if>\r\n</#list>\r\n        if(this.orderField == null) {\r\n            this.setOrderField(\"createTime\");\r\n            this.setOrderDirection(\"desc\");\r\n        }\r\n        if(null != buildCreateTimeRange()) builder.setCreateTime(getCreateTimeRange());\r\n        if (null != buildUpdateTimeRange()) builder.setUpdateTime(getUpdateTimeRange());\r\n        builder.setPagination(buildPaginationRequest());\r\n        if(null != ${tableInfo.protoEntity?uncap_first}Builder) builder.set${tableInfo.infoName?cap_first}(${tableInfo.protoEntity?uncap_first}Builder);\r\n        return builder;\r\n    }\r\n\r\n\r\n<#list tableInfo.columns as search>\r\n<#if search.searchColumn && search.columnName != \'updateTime\' && search.columnName != \'createTime\'>\r\n<#if search.amountBool>\r\n    public void set${search.fieldName?cap_first}(Double ${search.fieldName}) {\r\n        this.${search.fieldName} = ${search.fieldName};\r\n    }\r\n<#else>\r\n    public void set${search.fieldName?cap_first}(${search.filedType} ${search.fieldName}) {\r\n        this.${search.fieldName} = ${search.fieldName};\r\n    }\r\n</#if>\r\n</#if>\r\n</#list>\r\n\r\n    public Model.${tableInfo.protoEntity?cap_first}.Builder get${tableInfo.protoEntity?cap_first}Builder() {\r\n        if(null == ${tableInfo.protoEntity?uncap_first}Builder)\r\n            ${tableInfo.protoEntity?uncap_first}Builder  = Model.${tableInfo.protoEntity?cap_first}.newBuilder();\r\n        return ${tableInfo.protoEntity?uncap_first}Builder;\r\n    }\r\n\r\n<#list tableInfo.columns as search>\r\n<#if search.searchColumn && search.columnName != \'updateTime\' && search.columnName != \'createTime\'>\r\n<#if search.amountBool>\r\n    protected Double ${search.fieldName};\r\n<#else>\r\n    protected ${search.filedType} ${search.fieldName};\r\n</#if>\r\n</#if>\r\n</#list>\r\n    private Model.${tableInfo.protoEntity?cap_first}.Builder ${tableInfo.protoEntity?uncap_first}Builder;\r\n\r\n}\r\n', 'query.java', '1', 'web/java/com/nnk/ecsys/product/cmsweb/module/${tableInfo.modulePkg?uncap_first}/model', '0', '1511164072976', NULL);
INSERT INTO `nnk_code`.`ecsys_model_config` (`id`, `file_name`, `model_content`, `model_name`, `model_type`, `save_path`, `status`, `create_time`, `update_time`) VALUES ('10', '${tableInfo.infoName?cap_first}Controller.java', 'package com.nnk.ecsys.product.cmsweb.module.${tableInfo.modulePkg?uncap_first}.controller;\r\n\r\nimport com.nnk.ecsys.cms.client.${tableInfo.protoFile?cap_first}Service;\r\nimport com.nnk.ecsys.product.cmsweb.common.UserUtils;\r\nimport com.nnk.ecsys.product.cmsweb.module.${tableInfo.modulePkg}.model.${tableInfo.protoEntity?cap_first}Query;\r\nimport com.nnk.ecsys.product.cmsweb.web.controller.BaseController;\r\nimport com.nnk.ecsys.protocol.cms.Model;\r\nimport com.nnk.ecsys.protocol.cms.${tableInfo.protoFile?cap_first};\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.ModelMap;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestMethod;\r\nimport org.springframework.web.servlet.ModelAndView;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\n/**\r\n * @author : yuderen\r\n * @version: ${.now}\r\n */\r\n@Controller\r\n@RequestMapping(\"/${tableInfo.infoName}\")\r\npublic class ${tableInfo.infoName?cap_first}Controller extends BaseController {\r\n    <#assign jspPath = tableInfo.modulePkg + \"/\" + tableInfo.infoName+\"/\" + tableInfo.infoName/>\r\n\r\n    @Autowired\r\n    private ${tableInfo.protoFile?cap_first}Service ${tableInfo.protoFile?uncap_first}Service;\r\n\r\n    /******************************************${tableInfo.tableComment}*******************************************/\r\n    @RequestMapping(\"/${tableInfo.infoName}List\")\r\n    public String ${tableInfo.infoName}List(${tableInfo.protoEntity?cap_first}Query query,ModelMap modelMap){\r\n        return query${tableInfo.infoName?cap_first}List(query,modelMap);\r\n    }\r\n\r\n    public String query${tableInfo.infoName?cap_first}List(${tableInfo.protoEntity?cap_first}Query query,ModelMap modelMap){\r\n        ${tableInfo.protoFile?cap_first}.Query${tableInfo.protoEntity?cap_first}Response response =\r\n                ${tableInfo.protoFile?uncap_first}Service.query${tableInfo.protoEntity?cap_first}(query.builderQueryRequest(null).build());\r\n        if (response.getErrorCode().getErrorCode() == 0) {\r\n            query.setPaginationResponse(response.getPagination());\r\n        }\r\n        List<Model.${tableInfo.protoEntity?cap_first}> resultList = response.getResultList();\r\n        query.addToModel(modelMap);\r\n        modelMap.addAttribute(\"resultList\", resultList);\r\n        return \"${jspPath}List\";\r\n    }\r\n\r\n    @RequestMapping(\"/${tableInfo.infoName}ListForCheck\")\r\n    public String ${tableInfo.infoName}ListForCheck(${tableInfo.protoEntity?cap_first}Query query,String lookUpType,Integer status,ModelMap modelMap){\r\n        if(null != status && status >= 0){\r\n            query.setRecordStatus(status);\r\n        }\r\n        query${tableInfo.infoName?cap_first}List(query,modelMap);\r\n        modelMap.addAttribute(\"lookUpType\", lookUpType);\r\n        modelMap.addAttribute(\"status\", status + \"\");\r\n        return \"${jspPath}ListForCheck\";\r\n    }\r\n\r\n    @RequestMapping(\"/${tableInfo.infoName?uncap_first}Creator\")\r\n    public String ${tableInfo.infoName?uncap_first}Creator(ModelMap modelMap){\r\n        setPageModeForCreator(modelMap);\r\n        get${tableInfo.infoName?cap_first}Viewer(null,modelMap);\r\n        return \"${jspPath}ViewForCreator\";\r\n    }\r\n\r\n    @RequestMapping(value = \"/${tableInfo.infoName?uncap_first}Creator.do\", method = RequestMethod.POST)\r\n    public ModelAndView ${tableInfo.infoName?uncap_first}Creator(Model.${tableInfo.protoEntity?cap_first}.Builder builder){\r\n        ${tableInfo.protoFile?cap_first}.Create${tableInfo.protoEntity?cap_first}Response response = ${tableInfo.protoFile?uncap_first}Service.create${tableInfo.protoEntity?cap_first}(${tableInfo.protoFile?cap_first}.Create${tableInfo.protoEntity?cap_first}Request.newBuilder()\r\n                        .set${tableInfo.infoName?cap_first}(builder).setOperateUserId(UserUtils.getCurrentUserId()).build());\r\n        return getAjaxDoneResponseWithNewId(response.getErrorCode(), response.get${tableInfo.priKey?cap_first}());\r\n    }\r\n\r\n    @RequestMapping(value = \"/${tableInfo.infoName?uncap_first}Deleter.do\", method = RequestMethod.POST)\r\n    public ModelAndView ${tableInfo.infoName?uncap_first}Deleter(Long[] ${tableInfo.priKey}s){\r\n        ${tableInfo.protoFile?cap_first}.Delete${tableInfo.protoEntity?cap_first}Response response = ${tableInfo.protoFile}Service.delete${tableInfo.protoEntity?cap_first}(${tableInfo.protoFile?cap_first}.Delete${tableInfo.protoEntity?cap_first}Request.newBuilder()\r\n                        .addAll${tableInfo.priKey?cap_first}(Arrays.asList(${tableInfo.priKey}s)).setOperateUserId(UserUtils.getCurrentUserId()).build());\r\n        if(response.getErrorCode().getErrorCode() == 0){\r\n            return getSuccessResponse();\r\n        }\r\n        return getErrorResponse(response.getErrorCode().getErrorMsg());\r\n    }\r\n\r\n    @RequestMapping(\"/${tableInfo.infoName?uncap_first}Editor\")\r\n    public String ${tableInfo.infoName?uncap_first}Editor(Long ${tableInfo.priKey},ModelMap modelMap){\r\n        setPageModeForEditor(modelMap);\r\n        get${tableInfo.infoName?cap_first}Viewer(${tableInfo.priKey},modelMap);\r\n        return \"${jspPath}ViewForEditor\";\r\n    }\r\n\r\n    @RequestMapping(value = \"/${tableInfo.infoName?uncap_first}Editor.do\", method = RequestMethod.POST)\r\n    public ModelAndView ${tableInfo.infoName?uncap_first}Editor(Model.${tableInfo.protoEntity?cap_first}.Builder builder){\r\n        ${tableInfo.protoFile?cap_first}.Update${tableInfo.protoEntity?cap_first}Response response = ${tableInfo.protoFile}Service.update${tableInfo.protoEntity?cap_first}(${tableInfo.protoFile?cap_first}.Update${tableInfo.protoEntity?cap_first}Request.newBuilder()\r\n                        .set${tableInfo.infoName?cap_first}(builder).setOperateUserId(UserUtils.getCurrentUserId()).build());\r\n        return response.getErrorCode().getErrorCode() == 0 ? getSuccessResponse() : getErrorResponse(response.getErrorCode().getErrorMsg());\r\n    }\r\n\r\n    @RequestMapping(\"/${tableInfo.infoName?uncap_first}ViewForViewer\")\r\n    public String ${tableInfo.infoName?uncap_first}Viewer(Long ${tableInfo.priKey},ModelMap modelMap){\r\n        setPageModeForViewer(modelMap);\r\n        return get${tableInfo.infoName?cap_first}Viewer(${tableInfo.priKey},modelMap);\r\n    }\r\n\r\n    public String get${tableInfo.infoName?cap_first}Viewer(Long ${tableInfo.priKey},ModelMap modelMap){\r\n        if(null != ${tableInfo.priKey}){\r\n            ${tableInfo.protoEntity?cap_first}Query query = new ${tableInfo.protoEntity?cap_first}Query();\r\n            query.set${tableInfo.priKey?cap_first}(${tableInfo.priKey});\r\n            ${tableInfo.protoFile?cap_first}.Query${tableInfo.protoEntity?cap_first}Response response = ${tableInfo.protoFile?uncap_first}Service.query${tableInfo.protoEntity?cap_first}(query.builderQueryRequest(null).build());\r\n            modelMap.addAttribute(\"data\",response.getResult(0));\r\n        }\r\n        return \"${jspPath}ViewForViewer\";\r\n    }\r\n\r\n}\r\n', 'controller.java', '1', 'web/java/com/nnk/ecsys/product/cmsweb/module/${tableInfo.modulePkg?uncap_first}/controller', '0', '1511164072976', NULL);
INSERT INTO `nnk_code`.`ecsys_model_config` (`id`, `file_name`, `model_content`, `model_name`, `model_type`, `save_path`, `status`, `create_time`, `update_time`) VALUES ('11', '${tableInfo.protoEntity?cap_first}Editer.java', 'package com.nnk.ecsys.product.cmsweb.module.${tableInfo.modulePkg?uncap_first}.model;\r\n\r\nimport com.nnk.ecsys.product.cmsweb.common.UserUtils;\r\nimport com.nnk.ecsys.protocol.cms.Model;\r\nimport com.nnk.ecsys.protocol.cms.${tableInfo.protoFile?cap_first};\r\n\r\n/**\r\n * @author yuderen\r\n * @version ${.now}\r\n */\r\npublic class ${tableInfo.protoEntity}Editer {\r\n\r\n<#list tableInfo.columns as item>\r\n<#if item.amountBool == true>\r\n    private Double ${item.columnName?uncap_first};\r\n</#if>\r\n</#list>\r\n    Model.${tableInfo.protoEntity?cap_first}.Builder ${tableInfo.infoName?uncap_first} = Model.${tableInfo.protoEntity?cap_first}.newBuilder();\r\n\r\n    /**\r\n     * 创建请求\r\n     * @return\r\n     */\r\n    public ${tableInfo.protoFile?cap_first}.Create${tableInfo.protoEntity?cap_first}Request buildCreateRequest(){\r\n        initSpecialAttributes();\r\n        return ${tableInfo.protoFile?cap_first}.Create${tableInfo.protoEntity?cap_first}Request.newBuilder()\r\n                .set${tableInfo.infoName?cap_first}(${tableInfo.infoName?uncap_first}).setOperateUserId(UserUtils.getCurrentUserId())\r\n                .build();\r\n    }\r\n\r\n    /**\r\n     * 更新请求\r\n     * @return\r\n     */\r\n    public ${tableInfo.protoFile?cap_first}.Update${tableInfo.protoEntity?cap_first}Request buildUpdateRequest(){\r\n        initSpecialAttributes();\r\n        return ${tableInfo.protoFile?cap_first}.Update${tableInfo.protoEntity?cap_first}Request.newBuilder()\r\n                .set${tableInfo.infoName?cap_first}(${tableInfo.infoName?uncap_first}).setOperateUserId(UserUtils.getCurrentUserId())\r\n                .build();\r\n    }\r\n\r\n    public void initSpecialAttributes(){\r\n	<#list tableInfo.columns as item>\r\n	<#if item.amountBool>\r\n        if (null != ${item.columnName?uncap_first}) this.${tableInfo.protoEntity?uncap_first}.set${item.columnName?cap_first}(Math.round(${item.columnName?uncap_first}*10000));\r\n	</#if>\r\n	</#list>\r\n    }\r\n\r\n<#list tableInfo.columns as item>\r\n<#if item.amountBool  == true>\r\n    public Double get${item.columnName?cap_first}() {\r\n        return ${item.columnName?uncap_first};\r\n    }\r\n\r\n    public void set${item.columnName?cap_first}(Double ${item.columnName?uncap_first}) {\r\n        this.${item.columnName?uncap_first} = ${item.columnName?uncap_first};\r\n    }\r\n</#if>\r\n</#list>\r\n\r\n    public Model.${tableInfo.protoEntity?cap_first}.Builder get${tableInfo.infoName?cap_first}() {\r\n        return ${tableInfo.infoName?uncap_first};\r\n    }\r\n\r\n    public void set${tableInfo.infoName?cap_first}(Model.${tableInfo.protoEntity?cap_first}.Builder ${tableInfo.infoName?uncap_first}) {\r\n        this.${tableInfo.infoName?uncap_first} = ${tableInfo.infoName?uncap_first};\r\n    }\r\n}\r\n', 'editer.java', '1', 'web/java/com/nnk/ecsys/product/cmsweb/module/${tableInfo.modulePkg?uncap_first}/model', '0', '1511164072976', NULL);
INSERT INTO `nnk_code`.`ecsys_model_config` (`id`, `file_name`, `model_content`, `model_name`, `model_type`, `save_path`, `status`, `create_time`, `update_time`) VALUES ('12', '${tableInfo.infoName?uncap_first}List.jsp', '<%@ page import=\"com.nnk.ecsys.product.cmsweb.web.jstl.HtmlUtils\" %>\r\n<#list tableInfo.columns as column>\r\n    <#if column.enumBool>\r\n<%@ page import=\"com.nnk.ecsys.utils.model.enums.enumer.${column.enumType}Enumer\" %>\r\n    </#if>\r\n</#list>\r\n<%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" session=\"false\" pageEncoding=\"UTF-8\" %>\r\n<%@ include file=\"/WEB-INF/pages/template/include.jsp\" %>\r\n\r\n<form id=\"pagerForm\" class=\"search-pager-form\" method=\"post\" action=\"${tableInfo.infoName?uncap_first}/${tableInfo.infoName?uncap_first}List\">\r\n    <c:import url=\"/WEB-INF/pages/template/search-page-form.jsp\" ></c:import>\r\n</form>\r\n\r\n<form id=\"inputForm\" class=\"search-input-form\" method=\"post\" rel=\"pagerForm\" action=\"${tableInfo.infoName}/${tableInfo.infoName}List\"\r\n      onsubmit=\"return ($(this).valid() && navTabSearch(this))\">\r\n	  <#assign searchCount = 0/>\r\n    <div class=\"pageHeader\">\r\n        <div class=\"searchBar\">\r\n<#list tableInfo.columns as search>\r\n    <#if search.searchColumn && search.columnName != \'updateTime\' && search.columnName != \'createTime\'>\r\n	<#if searchCount % 4 == 0>\r\n            <ul class=\"searchContent\">\r\n	</#if>\r\n        <#if search.protoType == \"double\"><#assign paramType = \"number\"><#elseif search.protoType ==\"string\"><#assign paramType = \"\"><#else><#assign paramType = \"digits\"></#if>\r\n                <li>\r\n                    <label>${search.columnComment}：</label>\r\n                <#if search.enumBool == true || search.dictBool == true >\r\n                    <select name=\"${search.columnName}\" class=\"combox\" class=\"editable\" initValue=\"${\'$\'}{param.${search.columnName}}\">\r\n                        <%=HtmlUtils.getSelectorForEnumerWithNone(${search.enumType}Enumer.class)%>\r\n                    </select>\r\n                <#else>\r\n                    <input type=\"text\" name=\"${search.columnName}\" class=\"${paramType} unSubmitBlank\" value=\"${\'$\'}{param.${search.columnName}}\"/>\r\n                </#if>\r\n                </li>\r\n	<#if searchCount % 4 == 3 || !search_has_next>\r\n            </ul>\r\n	</#if>\r\n	<#assign searchCount = searchCount + 1/>\r\n    </#if>\r\n</#list>\r\n	<#if searchCount % 4 == 0>\r\n            <ul class=\"searchContent\">\r\n	</#if>\r\n                <c:import url=\"/WEB-INF/pages/template/search-create-li.jsp\"></c:import>\r\n            </ul>\r\n            <c:import url=\"/WEB-INF/pages/template/search-bar-action.jsp\" ></c:import>\r\n        </div>\r\n    </div>\r\n</form>\r\n\r\n<div class=\"pageContent\">\r\n    <div class=\"panelBar\">\r\n        <ul class=\"toolBar\">\r\n            <li><verify:a class=\"add\" href=\"${tableInfo.infoName}/${tableInfo.infoName}Creator\" target=\"navTab\" title=\"创建记录\" rel=\"tab${tableInfo.infoName?cap_first}Creator\"><span>添加</span></verify:a></li>\r\n            <li><verify:a class=\"delete\" href=\"${tableInfo.infoName}/${tableInfo.infoName}Deleter.do\" target=\"selectedTodo\" title=\"确定要删除吗？\" warn=\"请选择一条记录\" rel=\"${tableInfo.priKey}s\"><span>删除</span></verify:a></li>\r\n            <li><verify:a class=\"edit\" href=\"${tableInfo.infoName}/${tableInfo.infoName}Editor?${tableInfo.priKey}={itemId}\" target=\"navTab\" warn=\"请选择一条记录\" rel=\"${tableInfo.priKey}s\"><span>编辑</span></verify:a></li>\r\n        </ul>\r\n    </div>\r\n    <c:import url=\"/WEB-INF/pages/template/pagination.jsp\"></c:import>\r\n    <table class=\"table\" selectRel=\"${tableInfo.priKey}s\">\r\n        <c:import url=\"${tableInfo.infoName}ListTable.jsp\"></c:import>\r\n    </table>\r\n</div>\r\n', 'list.jsp', '1', 'web/webapp/WEB-INF/pages/${tableInfo.modulePkg?uncap_first}/${tableInfo.infoName?uncap_first}', '0', '1511164072976', '1511163899946');
INSERT INTO `nnk_code`.`ecsys_model_config` (`id`, `file_name`, `model_content`, `model_name`, `model_type`, `save_path`, `status`, `create_time`, `update_time`) VALUES ('13', '${tableInfo.infoName?uncap_first}ListTable.jsp', '<#list tableInfo.columns as column>\r\n    <#if column.enumBool>\r\n<%@ page import=\"com.nnk.ecsys.utils.model.enums.enumer.${column.enumType}Enumer\" %>\r\n    </#if>\r\n</#list>\r\n<%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" session=\"false\" pageEncoding=\"UTF-8\" %>\r\n<%@ include file=\"/WEB-INF/pages/template/include.jsp\" %>\r\n\r\n<#list tableInfo.columns as search>\r\n    <#if search.enumBool>\r\n<c:set var=\"${search.enumType}Enumer\" value=\"<%=${search.enumType}Enumer.class.getName()%>\" />\r\n    </#if>\r\n</#list>\r\n\r\n<thead>\r\n<tr>\r\n    <th class=\"table-data-rowNum\">序号</th>\r\n<#list tableInfo.columns as show>\r\n<#if show.showColumn>\r\n<#if show.columnName == tableInfo.priKey>\r\n    <th class=\"table-data-id\">${show.columnComment}</th>\r\n<#elseif show.columnName == \'createTime\'>\r\n    <th class=\"table-data-date ${\'$\'}{orderField eq \'createTime\' ? orderDirection : \'nnk-default-asc\'}\" orderField=\"createTime\">创建时间</th>\r\n<#else>\r\n    <th>${show.columnComment}</th>\r\n</#if>\r\n</#if>\r\n</#list>\r\n    <th>操作</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<c:forEach var=\"item\" items=\"${\'$\'}{resultList}\" varStatus=\"s\">\r\n    <c:set var=\"itemId\" value=\"${\'$\'}{item.${tableInfo.priKey}}\" ></c:set>\r\n    <tr rel=\"${\'$\'}{itemId}\" target=\"itemId\">\r\n        <td>${\'$\'}{s.index + 1 + (pageNum - 1) * numPerPage}</td>\r\n<#list tableInfo.columns as show>\r\n<#if show.showColumn>\r\n    <#if show.columnName == tableInfo.priKey>\r\n        <td><a href=\"${tableInfo.infoName}/${tableInfo.infoName}ViewForViewer?${tableInfo.priKey}=${\'$\'}{itemId}\" target=\"navTab\" rel=\"tab${tableInfo.infoName?cap_first}Viewer${\'$\'}{itemId}\" title=\"等级：${\'$\'}{itemId}\">${\'$\'}{itemId}</a></td>\r\n    <#elseif show.columnName == \'updateTime\' || show.columnName == \'createTime\'>\r\n		<td>${\'$\'}{nnk:convertMillisecondToLongDateString(item.${show.columnName})}</td>\r\n	<#else>\r\n        <#if show.enumBool || show.dictBool>\r\n        <td>${\'$\'}{nnk:getEnumStringForNumber(${show.enumType}Enumer, item.${show.columnName}<#if show.enumBool>.number</#if>)}</td>\r\n        <#elseif show.amountBool>\r\n        <td>${\'$\'}{nnk:formatAmountDef(item.${show.columnName})} 元</td>\r\n        <#else>\r\n        <td>${\'$\'}{item.${show.columnName}}</td>\r\n        </#if>\r\n    </#if>\r\n</#if>\r\n</#list>\r\n        <td>\r\n            <a href=\"${tableInfo.infoName}/${tableInfo.infoName}ViewForViewer?${tableInfo.priKey}=${\'$\'}{itemId}\" target=\"navTab\" rel=\"tab${tableInfo.infoName?cap_first}Viewer${\'$\'}{itemId}\" title=\"${tableInfo.priKey}：${\'$\'}{itemId}\" class=\"\"> 【查看】 </a>\r\n            <verify:a href=\"${tableInfo.infoName}/${tableInfo.infoName}Editor?${tableInfo.priKey}=${\'$\'}{itemId}\" target=\"navTab\" rel=\"tab${tableInfo.infoName?cap_first}Viewer${\'$\'}{itemId}\" title=\"${tableInfo.priKey}：${\'$\'}{itemId}\" class=\"\"> 【编辑】 </verify:a>\r\n        </td>\r\n    </tr>\r\n</c:forEach>\r\n</tbody>\r\n', 'listTable.jsp', '1', 'web/webapp/WEB-INF/pages/${tableInfo.modulePkg?uncap_first}/${tableInfo.infoName?uncap_first}', '0', '1511164072976', '1511164072976');
INSERT INTO `nnk_code`.`ecsys_model_config` (`id`, `file_name`, `model_content`, `model_name`, `model_type`, `save_path`, `status`, `create_time`, `update_time`) VALUES ('14', '${tableInfo.infoName?uncap_first}ViewData.jsp', '<%@ page import=\"com.nnk.ecsys.product.cmsweb.web.jstl.HtmlUtils\" %>\r\n<#list tableInfo.columns as column>\r\n    <#if column.enumBool>\r\n<%@ page import=\"com.nnk.ecsys.utils.model.enums.enumer.${column.enumType}Enumer\" %>\r\n    </#if>\r\n</#list>\r\n<%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" session=\"false\" pageEncoding=\"UTF-8\" %>\r\n<%@ include file=\"/WEB-INF/pages/template/include.jsp\" %>\r\n<#list tableInfo.columns as columns>\r\n<#if columns_index % 5 == 0>\r\n<div class=\"unit unitHeader\">\r\n    <h2>基本信息：</h2>\r\n</div>\r\n</#if>\r\n<#if tableInfo.priKey == columns.columnName || columns.columnName == \'createTime\' || columns.columnName == \'updateTime\'>\r\n<div class=\"unit\" edit-mode=\"disabled\" create-mode=\"hidden\">\r\n<#else>\r\n<div class=\"unit\">\r\n</#if>\r\n    <label>${columns.columnComment}</label>\r\n<#if columns.enumBool || columns.dictBool>\r\n    <select name=\"${columns.columnName}\" class=\"combox\" initValue=\"${\'$\'}{data.${columns.columnName}}\">\r\n        <%=HtmlUtils.get<#if columns.enumBool>Value</#if>SelectorForEnumer(${columns.enumType}Enumer.class)%>\r\n    </select>\r\n<#elseif columns.columnName == \'createTime\' || columns.columnName == \'updateTime\'>\r\n    <input type=\"text\" value=\"${\'$\'}{nnk:convertMillisecondToLongDateString(data.${columns.columnName})}\" size=\"40\"/>\r\n<#else>\r\n    <#if columns.protoType == \"double\"><#assign paramType = \"number\"><#elseif columns.protoType ==\"string\"><#assign paramType = \"\"><#else><#assign paramType = \"digits\"></#if>\r\n<#if columns.amountBool>\r\n    <input name=\"${columns.columnName}\" type=\"text\" class=\"number\" value=\"${\'$\'}{nnk:formatAmountDef(data.${columns.columnName})}\" size=\"40\"/>\r\n<#else>\r\n    <input name=\"${columns.columnName}\" type=\"text\" class=\"${paramType}\" value=\"${\'$\'}{data.${columns.columnName}}\" size=\"40\"/>\r\n</#if>\r\n</#if>\r\n</div>\r\n</#list>', 'viewData.jsp', '1', 'web/webapp/WEB-INF/pages/${tableInfo.modulePkg?uncap_first}/${tableInfo.infoName?uncap_first}', '0', '1511164072976', '1511164189794');
INSERT INTO `nnk_code`.`ecsys_model_config` (`id`, `file_name`, `model_content`, `model_name`, `model_type`, `save_path`, `status`, `create_time`, `update_time`) VALUES ('15', '${tableInfo.infoName?uncap_first}ViewForCreator.jsp', '<%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" session=\"false\" pageEncoding=\"UTF-8\" %>\r\n<%@ include file=\"/WEB-INF/pages/template/include.jsp\" %>\r\n\r\n<form id=\"viewerForm\"\r\n      class=\"pageForm required-validate viewerForm\"\r\n      method=\"post\"\r\n      action=\"${tableInfo.infoName?uncap_first}/${tableInfo.infoName?uncap_first}Creator.do\"\r\n      viewer-mode=\"${\'$\'}{_pageViewerMode}\"\r\n      onsubmit=\"return validateCallback(this, navTabAjaxDone);\">\r\n    <div class=\"pageContent\">\r\n        <div class=\"pageFormContent\">\r\n            <input type=\"hidden\" name=\"callbackType\" value=\"closeCurrentAndForward\"/>\r\n            <input type=\"hidden\" name=\"forwardUrl\" value=\"${tableInfo.infoName?uncap_first}/${tableInfo.infoName?uncap_first}ViewForViewer?${tableInfo.priKey}=\"/>\r\n            <input type=\"hidden\" name=\"navTabId\" value=\"tab${tableInfo.infoName?cap_first}Viewer\"/>\r\n            <input type=\"hidden\" name=\"navTabTitle\" value=\"新增的信息\"/>\r\n            <c:import url=\"${tableInfo.infoName?uncap_first}ViewData.jsp\" ></c:import>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"formBar\">\r\n        <ul>\r\n            <li><a>\r\n                <div class=\"buttonActive\"><div class=\"buttonContent\"><button type=\"submit\">创 建</button></div></div>\r\n            </a></li>\r\n        </ul>\r\n    </div>\r\n</form>', 'viewForCreator.jsp', '1', 'web/webapp/WEB-INF/pages/${tableInfo.modulePkg?uncap_first}/${tableInfo.infoName?uncap_first}', '0', '1511164072976', NULL);
INSERT INTO `nnk_code`.`ecsys_model_config` (`id`, `file_name`, `model_content`, `model_name`, `model_type`, `save_path`, `status`, `create_time`, `update_time`) VALUES ('16', '${tableInfo.infoName?uncap_first}ViewForEditor.jsp', '<%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" session=\"false\" pageEncoding=\"UTF-8\" %>\r\n<%@ include file=\"/WEB-INF/pages/template/include.jsp\" %>\r\n\r\n<form id=\"viewerForm\"\r\n      class=\"pageForm required-validate viewerForm\"\r\n      method=\"post\"\r\n      action=\"${tableInfo.infoName?uncap_first}/${tableInfo.infoName?uncap_first}Editor.do\"\r\n      viewer-mode=\"${\'$\'}{_pageViewerMode}\"\r\n      onsubmit=\"return validateCallback(this, navTabAjaxDone);\">\r\n    <div class=\"pageContent\">\r\n        <div class=\"pageFormContent\">\r\n            <input type=\"hidden\" name=\"callbackType\" value=\"forward\" />\r\n            <input type=\"hidden\" name=\"forwardUrl\" value=\"${tableInfo.infoName?uncap_first}/${tableInfo.infoName?uncap_first}ViewForViewer?${tableInfo.priKey}=${\'$\'}{data.${tableInfo.priKey}}\" />\r\n            <c:import url=\"${tableInfo.infoName?uncap_first}ViewData.jsp\" ></c:import>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"formBar\">\r\n        <ul>\r\n            <li><a>\r\n                <div class=\"buttonActive\"><div class=\"buttonContent\"><button type=\"submit\">提 交</button></div></div>\r\n            </a></li>\r\n        </ul>\r\n        <ul>\r\n            <li><a href=\"${tableInfo.infoName?uncap_first}/${tableInfo.infoName?uncap_first}ViewForViewer?${tableInfo.priKey}=${\'$\'}{data.${tableInfo.priKey}}\" type=\"button\" target=\"navTab\" rel=\"${\'$\'}{data.${tableInfo.priKey}}\" title=\"id：${\'$\'}{data.${tableInfo.priKey}}\">\r\n                <div class=\"buttonActive\"><div class=\"buttonContent\"><button type=\"button\">返 回</button></div></div>\r\n            </a></li>\r\n        </ul>\r\n    </div>\r\n</form>', 'viewForEditor.jsp', '1', 'web/webapp/WEB-INF/pages/${tableInfo.modulePkg?uncap_first}/${tableInfo.infoName?uncap_first}', '0', '1511164072976', NULL);
INSERT INTO `nnk_code`.`ecsys_model_config` (`id`, `file_name`, `model_content`, `model_name`, `model_type`, `save_path`, `status`, `create_time`, `update_time`) VALUES ('17', '${tableInfo.infoName?uncap_first}ViewForViewer.jsp', '<%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" session=\"false\" pageEncoding=\"UTF-8\" %>\r\n<%@ include file=\"/WEB-INF/pages/template/include.jsp\" %>\r\n\r\n<form id=\"viewerForm\"\r\n      class=\"pageForm required-validate viewerForm\"\r\n      viewer-mode=\"${\'$\'}{_pageViewerMode}\"\r\n      onsubmit=\"return validateCallback(this, navTabAjaxDone);\">\r\n    <div class=\"pageContent\">\r\n        <div class=\"pageFormContent\">\r\n            <c:import url=\"${tableInfo.infoName?uncap_first}ViewData.jsp\" ></c:import>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"formBar\">\r\n        <ul>\r\n            <li><verify:a href=\"${tableInfo.infoName?uncap_first}/${tableInfo.infoName?uncap_first}Editor?${tableInfo.priKey}=${\'$\'}{data.${tableInfo.priKey}}\" type=\"button\" target=\"navTab\" rel=\"${\'$\'}{data.${tableInfo.priKey}}\" title=\"编辑：${\'$\'}{data.${tableInfo.priKey}}\">\r\n                <div class=\"buttonActive\"><div class=\"buttonContent\"><button type=\"button\">编 辑</button></div></div>\r\n            </verify:a></li>\r\n        </ul>\r\n    </div>\r\n</form>', 'viewForViewer.jsp', '1', 'web/webapp/WEB-INF/pages/${tableInfo.modulePkg?uncap_first}/${tableInfo.infoName?uncap_first}', '0', '1511164072976', NULL);
INSERT INTO `nnk_code`.`ecsys_model_config` (`id`, `file_name`, `model_content`, `model_name`, `model_type`, `save_path`, `status`, `create_time`, `update_time`) VALUES ('18', '${tableInfo.infoName?uncap_first}ListForCheck.jsp', '<%@ page import=\"com.nnk.ecsys.product.cmsweb.web.jstl.HtmlUtils\" %>\r\n<%@ page import=\"com.nnk.ecsys.utils.model.enums.enumer.*\" %>\r\n<%@ page contentType=\"text/html;charset=UTF-8\" pageEncoding=\"UTF-8\"%>\r\n<%@ include file=\"/WEB-INF/pages/template/include.jsp\" %>\r\n\r\n<#list tableInfo.columns as search>\r\n    <#if search.enumBool>\r\n<c:set var=\"${search.enumType}Enumer\" value=\"<%=${search.enumType}Enumer.class.getName()%>\" />\r\n    </#if>\r\n</#list>\r\n\r\n<form id=\"pagerForm\" method=\"post\" action=\"${tableInfo.infoName?uncap_first}/${tableInfo.infoName?uncap_first}ListForCheck?lookUpType=${\'$\'}{lookUpType}\">\r\n    <input type=\"hidden\" name=\"pageNum\" value=\"${\'$\'}{param.pageNum}\" />\r\n    <input type=\"hidden\" name=\"numPerPage\" value=\"${\'$\'}{numPerPage}\" />\r\n</form>\r\n\r\n<div class=\"pageHeader\" look-up=\"lookUp\" look-up-type=\"${\'$\'}{lookUpType}\">\r\n    <form id=\"inputForm\" class=\"search-input-form\" method=\"post\" rel=\"pagerForm\" action=\"${tableInfo.infoName?uncap_first}/${tableInfo.infoName?uncap_first}ListForCheck?lookUpType=${\'$\'}{lookUpType}\"\r\n          onsubmit=\"return dialogSearch(this);\" >\r\n        <div class=\"searchBar\">\r\n	<#assign searchCount = 0/>\r\n<#list tableInfo.columns as search>\r\n    <#if search.searchColumn && search.columnName != \'updateTime\' && search.columnName != \'createTime\'>\r\n	<#if searchCount % 2 == 0>\r\n            <ul class=\"searchContent\">\r\n	</#if>\r\n	<#if search.protoType == \"double\"><#assign paramType = \"number\"><#elseif search.protoType ==\"string\"><#assign paramType = \"\"><#else><#assign paramType = \"digits\"></#if>\r\n                <li>\r\n                    <label>${search.columnComment}：</label>\r\n            <#if search.enumBool || search.dictBool>\r\n                    <select name=\"${search.columnName}\" class=\"combox\" class=\"editable\" initValue=\"${\'$\'}{param.${search.columnName}}\">\r\n                        <%=HtmlUtils.getSelectorForEnumerWithNone(${search.enumType}Enumer.class)%>\r\n                    </select>\r\n            <#else>\r\n                    <input type=\"text\" name=\"${search.columnName}\" class=\"${paramType} unSubmitBlank\" value=\"${\'$\'}{param.${search.columnName}}\"/>\r\n            </#if>\r\n                </li>\r\n	<#if searchCount % 2 == 1>\r\n            </ul>\r\n	</#if>\r\n	<#assign searchCount = searchCount + 1/>\r\n    </#if>\r\n</#list>\r\n	<#if searchCount % 2 == 1>\r\n            </ul>\r\n	</#if>\r\n            <div class=\"subBar\">\r\n                <ul>\r\n                    <li><div class=\"buttonActive\"><div class=\"buttonContent\"><button type=\"submit\">查询</button></div></div></li>\r\n                    <li>\r\n						<div class=\"button\">\r\n							<div class=\"buttonContent\">\r\n								<button type=\"button\" multLookupList=\"${tableInfo.priKey}\" warn=\"请选择信息\" multlookupcallback=\"callBack${tableInfo.infoName?cap_first}\">选择带回</button>\r\n							</div>\r\n						</div>\r\n					</li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </form>\r\n</div>\r\n\r\n<div class=\"pageContent\" look-up=\"lookUp\" look-up-type=\"${\'$\'}{lookUpType}\">\r\n    <table class=\"table\" layoutH=\"118\" targetType=\"dialog\" width=\"100%\">\r\n        <thead>\r\n        <tr>\r\n            <th up-type=\"one\" class=\"lookUpCs\">操作</th>\r\n            <th class=\"table-data-rowNum\">序号</th>\r\n	<#list tableInfo.columns as show>\r\n		<#if show.showColumn>\r\n			<th>${show.columnComment}</th>\r\n		</#if>\r\n	</#list>\r\n        </tr>\r\n        </thead>\r\n        <tbody>\r\n        <c:forEach var=\"item\" items=\"${\'$\'}{resultList}\" varStatus=\"s\">\r\n<#list tableInfo.columns as show>\r\n	<#if show.showColumn>\r\n		<#if show.enumBool || show.dictBool>\r\n			<c:set var=\"${show.columnName}Name\" value=\"${\'$\'}${\'{\'}nnk:getEnumStringForNumber(${show.enumType}Enumer, item.${show.columnName}<#if show.enumBool>.number</#if>)}\" ></c:set>\r\n		</#if>\r\n	</#if>\r\n</#list>\r\n            <tr rel=\"${\'$\'}{itemId}\" target=\"itemId\">\r\n                <td up-type=\"one\" class=\"lookUpCs\">\r\n                    <a class=\"btnSelect\" href=\"javascript:$.bringBack({\r\n														<#list tableInfo.columns as show>\r\n															<#if show.showColumn && show.columnName != \'updateTime\' && show.columnName != \'createTime\'>\r\n																<#if show.enumBool || show.dictBool>\r\n																	${show.columnName}:\'${\'$\'}{item.${show.columnName}}\',\r\n																	${show.columnName}Name:\'${\'$\'}{${show.columnName}Name}\',\r\n																<#elseif show.amountBool>\r\n																	${show.columnName}:${\'$\'}{nnk:formatAmountDef(item.${show.columnName})}},\r\n																<#else>\r\n																	${show.columnName}:\'${\'$\'}{item.${show.columnName}}\',\r\n																</#if>\r\n															</#if>\r\n														</#list>\r\n																	});\" title=\"查找带回\">选择</a>\r\n                </td>\r\n                <td>${\'$\'}{s.index + 1 + (pageNum - 1) * numPerPage}</td>\r\n    <#list tableInfo.columns as show>\r\n		<#if show.showColumn>\r\n			<#if show.enumBool || show.dictBool>\r\n				<td>${\'$\'}{nnk:getEnumStringForNumber(${show.enumType}Enumer, item.${show.columnName}<#if show.enumBool>.number</#if>)}</td>\r\n			<#elseif show.amountBool>\r\n				<td>${\'$\'}{nnk:formatAmountDef(item.${show.columnName})} 元</td>\r\n			<#else>\r\n				<td>${\'$\'}{item.${show.columnName}}</td>\r\n			</#if>\r\n		</#if>\r\n	</#list>\r\n            </tr>\r\n        </c:forEach>\r\n        </tbody>\r\n    </table>\r\n    <script>\r\n        function changeSelect(obj) {\r\n            $(\"input[name=\'${tableInfo.priKey}\']\",$.pdialog.getCurrent()).prop(\"checked\",obj.checked);\r\n        }\r\n    </script>\r\n    <c:import url=\"/WEB-INF/pages/template/paginationForDialog.jsp\"></c:import>\r\n</div>\r\n', 'listForCheck.jsp', '1', 'web/webapp/WEB-INF/pages/${tableInfo.modulePkg?uncap_first}/${tableInfo.infoName?uncap_first}', '0', '1511164072976', '1511164560303');
INSERT INTO `nnk_code`.`ecsys_model_config` (`id`, `file_name`, `model_content`, `model_name`, `model_type`, `save_path`, `status`, `create_time`, `update_time`) VALUES ('19', '${tableInfo.infoName?uncap_first}ListForCheckBatch.jsp', '<%@ page import=\"com.nnk.ecsys.product.cmsweb.web.jstl.HtmlUtils\" %>\r\n<%@ page import=\"com.nnk.ecsys.utils.model.enums.enumer.*\" %>\r\n<%@ page contentType=\"text/html;charset=UTF-8\" pageEncoding=\"UTF-8\"%>\r\n<%@ include file=\"/WEB-INF/pages/template/include.jsp\" %>\r\n\r\n<#list tableInfo.columns as search>\r\n    <#if search.enumBool>\r\n<c:set var=\"${search.enumType}Enumer\" value=\"<%=${search.enumType}Enumer.class.getName()%>\" />\r\n    </#if>\r\n</#list>\r\n\r\n<form id=\"pagerForm\" method=\"post\" action=\"${tableInfo.infoName?uncap_first}/${tableInfo.infoName?uncap_first}ListForCheckBatch?lookUpType=${\'$\'}{lookUpType}\">\r\n    <input type=\"hidden\" name=\"pageNum\" value=\"${\'$\'}{param.pageNum}\" />\r\n    <input type=\"hidden\" name=\"numPerPage\" value=\"${\'$\'}{numPerPage}\" />\r\n</form>\r\n\r\n<div class=\"pageHeader\" look-up=\"lookUp\" look-up-type=\"${\'$\'}{lookUpType}\">\r\n    <form id=\"inputForm\" class=\"search-input-form\" method=\"post\" rel=\"pagerForm\" action=\"${tableInfo.infoName?uncap_first}/${tableInfo.infoName?uncap_first}ListForCheckBatch?lookUpType=${\'$\'}{lookUpType}\"\r\n          onsubmit=\"return dialogSearch(this);\" >\r\n        <div class=\"searchBar\">\r\n<#list tableInfo.columns as search>\r\n	<#if search.searchColumn && search.columnName != \'updateTime\' && search.columnName != \'createTime\'>\r\n        <#if search_index % 2 == 0>\r\n            <ul class=\"searchContent\">\r\n        </#if>\r\n		<#if search.protoType == \"double\"><#assign paramType = \"number\"><#elseif search.protoType ==\"string\"><#assign paramType = \"\"><#else><#assign paramType = \"digits\"></#if>\r\n                <li>\r\n                    <label>${search.columnComment}：</label>\r\n                <#if search.enumBool == true>\r\n                    <select name=\"${search.columnName}\" class=\"combox\" class=\"editable\" initValue=\"${\'$\'}{param.${search.columnName}}\">\r\n                        <%=HtmlUtils.getSelectorForEnumerWithNone(${search.enumType}Enumer.class)%>\r\n                    </select>\r\n                <#else>\r\n                    <input type=\"text\" name=\"${search.columnName}\" class=\"${paramType} unSubmitBlank\" value=\"${\'$\'}{param.${search.columnName}}\"/>\r\n                </#if>\r\n                </li>\r\n		<#if search_index % 2 == 1 || !search_has_next>\r\n            </ul>\r\n		</#if>\r\n	</#if>\r\n</#list>\r\n            <div class=\"subBar\">\r\n                <ul>\r\n                    <li><div class=\"buttonActive\"><div class=\"buttonContent\"><button type=\"submit\">查询</button></div></div></li>\r\n                    <li>\r\n						<div class=\"button\">\r\n							<div class=\"buttonContent\">\r\n								<button type=\"button\" multLookupList=\"${tableInfo.priKey}\" warn=\"请选择信息\" multlookupcallback=\"callBack${tableInfo.infoName?cap_first}\">选择带回</button>\r\n							</div>\r\n						</div>\r\n					</li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </form>\r\n</div>\r\n\r\n<div class=\"pageContent\" look-up=\"lookUp\" look-up-type=\"${\'$\'}{lookUpType}\">\r\n    <table class=\"table\" layoutH=\"118\" targetType=\"dialog\" width=\"100%\">\r\n        <thead>\r\n        <tr>\r\n            <th up-type=\"one\" class=\"lookUpCs\"><input type=\"checkbox\" onchange=\"changeSelect(this)\" />操作</th>\r\n            <th class=\"table-data-rowNum\">序号</th>\r\n	<#list tableInfo.columns as show>\r\n		<#if show.showColumn>\r\n			<th>${show.columnComment}</th>\r\n		</#if>\r\n	</#list>\r\n        </tr>\r\n        </thead>\r\n        <tbody>\r\n        <c:forEach var=\"item\" items=\"${\'$\'}{resultList}\" varStatus=\"s\">\r\n<#list tableInfo.columns as show>\r\n	<#if show.showColumn>\r\n		<#if show.enumBool>\r\n			<c:set var=\"${show.columnName}Name\" value=\"${\'$\'}${\'{\'}nnk:getEnumStringForNumber(${show.enumType}Enumer, item.${show.columnName}.number)}\" ></c:set>\r\n		</#if>\r\n	</#if>\r\n</#list>\r\n            <tr rel=\"${\'$\'}{itemId}\" target=\"itemId\">\r\n                <td up-type=\"one\" class=\"lookUpCs\">\r\n                    <input name=\"productId\" type=\"checkbox\" value=\"{\r\n														<#list tableInfo.columns as show>\r\n															<#if show.showColumn && show.columnName != \'updateTime\' && show.columnName != \'createTime\'>\r\n																<#if show.enumBool>\r\n																	${show.columnName}:\'${\'$\'}{${show.columnName}}\',\r\n																	${show.columnName}Name:\'${\'$\'}{${show.columnName}Name}\',\r\n																<#elseif show.amountBool>\r\n																	${show.columnName}:${\'$\'}{nnk:formatAmountDef(item.${show.columnName})}},\r\n																<#else>\r\n																	${show.columnName}:\'${\'$\'}{${show.columnName}}\',\r\n																</#if>\r\n															</#if>\r\n														</#list>\r\n																	}\">\r\n                </td>\r\n                <td>${\'$\'}{s.index + 1 + (pageNum - 1) * numPerPage}</td>\r\n    <#list tableInfo.columns as show>\r\n		<#if show.showColumn>\r\n			<#if show.enumBool>\r\n				<td>${\'$\'}{nnk:getEnumStringForNumber(${show.enumType}Enumer, item.${show.columnName}.number)}</td>\r\n			<#elseif show.amountBool>\r\n				<td>${\'$\'}{nnk:formatAmountDef(item.${show.columnName})} 元</td>\r\n			<#else>\r\n				<td>${\'$\'}{item.${show.columnName}}</td>\r\n			</#if>\r\n		</#if>\r\n	</#list>\r\n            </tr>\r\n        </c:forEach>\r\n        </tbody>\r\n    </table>\r\n    <script>\r\n        function changeSelect(obj) {\r\n            $(\"input[name=\'${tableInfo.priKey}\']\",$.pdialog.getCurrent()).prop(\"checked\",obj.checked);\r\n        }\r\n    </script>\r\n    <c:import url=\"/WEB-INF/pages/template/paginationForDialog.jsp\"></c:import>\r\n</div>\r\n', 'listForCheckBatch.jsp', '1', 'web/webapp/WEB-INF/pages/${tableInfo.modulePkg?uncap_first}/${tableInfo.infoName?uncap_first}', '0', '1511164072976', '1511941128658');
INSERT INTO `nnk_code`.`ecsys_model_config` (`id`, `file_name`, `model_content`, `model_name`, `model_type`, `save_path`, `status`, `create_time`, `update_time`) VALUES ('20', 'model.proto', '//${tableInfo.master.tableComment}\r\nmessage ${tableInfo.master.entityName?cap_first} {\r\n<#list tableInfo.master.columns as column>\r\n    optional ${column.protoType} ${column.columnName} = ${column_index + 1};	//${column.protoComment}\r\n</#list>\r\n}\r\n\r\n//${tableInfo.master.tableComment}主从实体\r\nmessage ${tableInfo.master.entityName?cap_first}Master {\r\n    optional ${tableInfo.master.entityName?cap_first} ${tableInfo.master.infoName?uncap_first} = 1;	// ${tableInfo.master.tableComment}\r\n    <#list tableInfo.slave as slave>\r\n    repeated sint64 del${slave.infoName?cap_first}${slave.priKey?cap_first} = ${(slave_index + 1)*3-1};	// 删除${slave.tableComment} id\r\n    repeated ${slave.entityName?cap_first} edit${slave.infoName?cap_first} = ${(slave_index + 1)*3};	// 修改${slave.tableComment}\r\n    repeated ${slave.entityName?cap_first} add${slave.infoName?cap_first} = ${(slave_index + 1)*3+1};	// 添加${slave.tableComment}\r\n	</#list>\r\n}\r\n\r\n<#list tableInfo.slave as slave>\r\n//${slave.tableComment}\r\nmessage ${slave.entityName?cap_first} {\r\n<#list slave.columns as column>\r\n    optional ${column.protoType} ${column.columnName} = ${column_index + 1};	//${column.protoComment}\r\n</#list>\r\n}\r\n</#list>', 'model.proto', '2', 'protobuf', '0', '1511164072976', NULL);
INSERT INTO `nnk_code`.`ecsys_model_config` (`id`, `file_name`, `model_content`, `model_name`, `model_type`, `save_path`, `status`, `create_time`, `update_time`) VALUES ('21', '${tableInfo.master.modulePkg}.proto', 'package com.nnk.ecsys.protocol.cms;\r\n\r\noption optimize_for = LITE_RUNTIME;\r\n\r\nimport \"common/enum.proto\";\r\nimport \"common/errorCode.proto\";\r\nimport \"common/utils.proto\";\r\nimport \"common/order.proto\";\r\nimport \"model.proto\";\r\n\r\n\r\n\r\n// ####################################${tableInfo.master.tableComment}#############################################\r\n// 功能: 查询 ${tableInfo.master.protoEntity?cap_first}\r\n// 路径: /${tableInfo.master.infoName?cap_first}/query${tableInfo.master.protoEntity?cap_first}\r\nmessage Query${tableInfo.master.protoEntity?cap_first}Request {\r\n    optional common.CommonPaginationRequest pagination = 1;					// 翻页\r\n    optional ${tableInfo.master.protoEntity?cap_first} ${tableInfo.master.infoName?uncap_first} = 2;	// 查询条件\r\n    optional common.CommonTimeRange updateTime = 3;							// 更新时间\r\n    optional common.CommonTimeRange createTime = 4;							// 创建时间\r\n    repeated sint64 gid = 5;								// 多个ID\r\n}\r\nmessage Query${tableInfo.master.protoEntity?cap_first}Response {\r\n    required common.CommonErrorCodeResponse errorCode = 1;\r\n    optional common.CommonPaginationResponse pagination = 2;				// 查询成功则返回\r\n    repeated ${tableInfo.master.protoEntity?cap_first} result = 3;			// 结果集\r\n}\r\n\r\n// ################################################################################################\r\n// 功能: 创建${tableInfo.master.protoEntity?cap_first}\r\n// 路径: /${tableInfo.master.protoFile?cap_first}/create${tableInfo.master.protoEntity?cap_first}Master\r\nmessage Create${tableInfo.master.protoEntity?cap_first}MasterRequest {\r\n    required ${tableInfo.master.protoEntity?cap_first}Master ${tableInfo.master.infoName?uncap_first}Master = 1;\r\n    optional sint64 operateUserId = 2;\r\n}\r\nmessage Create${tableInfo.master.protoEntity?cap_first}MasterResponse {\r\n    required common.CommonErrorCodeResponse errorCode = 1;\r\n    optional sint64 gid = 2;                // 如果创建成功，返回记录的ID\r\n}\r\n\r\n\r\n// ###############################################################################################\r\n// 功能: 删除${tableInfo.master.protoEntity?cap_first}Master，只能假删除\r\n// 路径: /${tableInfo.master.protoFile?cap_first}/delete${tableInfo.master.protoEntity?cap_first}Master\r\nmessage Delete${tableInfo.master.protoEntity?cap_first}MasterRequest {\r\n    repeated sint64 gid = 1;\r\n    optional sint64 operateUserId = 2;\r\n}\r\nmessage Delete${tableInfo.master.protoEntity?cap_first}MasterResponse {\r\n    required common.CommonErrorCodeResponse errorCode = 1;\r\n}\r\n\r\n\r\n// ###############################################################################################\r\n// 功能: 修改${tableInfo.master.protoEntity?cap_first}Master\r\n// 路径: /${tableInfo.master.protoFile?cap_first}/update${tableInfo.master.protoEntity?cap_first}Master\r\nmessage Update${tableInfo.master.protoEntity?cap_first}MasterRequest {\r\n    optional ${tableInfo.master.protoEntity?cap_first}Master ${tableInfo.master.infoName?uncap_first}Master = 1;\r\n    optional sint64 operateUserId = 2;\r\n}\r\nmessage Update${tableInfo.master.protoEntity?cap_first}MasterResponse {\r\n    required common.CommonErrorCodeResponse errorCode = 1;\r\n}\r\n\r\n// ###############################################################################################\r\n// 功能: 查询${tableInfo.master.protoEntity?cap_first}Master\r\n// 路径: /${tableInfo.master.protoFile?cap_first}/query${tableInfo.master.protoEntity?cap_first}Master\r\nmessage Query${tableInfo.master.protoEntity?cap_first}MasterRequest {\r\n    optional ${tableInfo.master.protoEntity?cap_first} ${tableInfo.master.infoName?uncap_first} =  1;    \r\n}\r\nmessage Query${tableInfo.master.protoEntity?cap_first}MasterResponse {\r\n    required common.CommonErrorCodeResponse errorCode = 1;\r\n    optional ${tableInfo.master.protoEntity?cap_first}Master result = 2;\r\n}\r\n', 'protobuf.proto', '2', 'protobuf', '0', '1511164072976', NULL);
INSERT INTO `nnk_code`.`ecsys_model_config` (`id`, `file_name`, `model_content`, `model_name`, `model_type`, `save_path`, `status`, `create_time`, `update_time`) VALUES ('22', 'batchModel.proto', '//${tableInfo.tableComment}\r\nmessage ${tableInfo.protoEntity?cap_first}Batch {\r\n	repeated ${tableInfo.protoEntity?cap_first} ${tableInfo.infoName?uncap_first}= 1;	//${tableInfo.tableComment}\r\n}\r\n\r\n// ##################################${tableInfo.tableComment}#############################################\r\n// 功能: 创建${tableInfo.protoEntity?cap_first}\r\n// 路径: /${tableInfo.modulePkg?uncap_first}/create${tableInfo.protoEntity?cap_first}Batch\r\nmessage Create${tableInfo.protoEntity?cap_first}BatchRequest {\r\n    required ${tableInfo.protoEntity?cap_first}Batch ${tableInfo.protoEntity?uncap_first}Batch = 1;\r\n    optional sint64 operateUserId = 2;\r\n}\r\nmessage Create${tableInfo.protoEntity?cap_first}BatchResponse {\r\n    required common.CommonErrorCodeResponse errorCode = 1;\r\n    repeated sint64 ${tableInfo.priKey?uncap_first} = 2;    // 如果创建成功，返回记录的ID列表\r\n}', 'batchModel.proto', '3', 'batch', '0', '1511164072976', NULL);
INSERT INTO `nnk_code`.`ecsys_model_config` (`id`, `file_name`, `model_content`, `model_name`, `model_type`, `save_path`, `status`, `create_time`, `update_time`) VALUES ('23', 'batchServiceProxyImpl.java', '    @Override\r\n    public ${tableInfo.protoFile?cap_first}.Create${tableInfo.protoEntity?cap_first}BatchResponse create${tableInfo.protoEntity?cap_first}Batch(${tableInfo.protoFile?cap_first}.Create${tableInfo.protoEntity?cap_first}BatchRequest request) {\r\n        ${tableInfo.protoFile?cap_first}.Create${tableInfo.protoEntity?cap_first}BatchResponse.Builder builder = ${tableInfo.protoFile?cap_first}.Create${tableInfo.protoEntity?cap_first}BatchResponse.newBuilder();\r\n        Utils.CommonErrorCodeResponse.Builder errorCode = Utils.CommonErrorCodeResponse.newBuilder();\r\n        try {\r\n            for (Model.${tableInfo.protoEntity?cap_first} ${tableInfo.infoName?uncap_first} : request.get${tableInfo.protoEntity?cap_first}Batch().get${tableInfo.infoName?cap_first}List()){\r\n                ServiceResponse<Long> result = ${tableInfo.modulePkg?uncap_first}Service.create${tableInfo.protoEntity?cap_first}(ConverterUtil.toEntity(${tableInfo.protoEntity?cap_first}.class,${tableInfo.infoName?uncap_first}));\r\n                builder.add${tableInfo.priKey?cap_first}(CommonConverter.convertNullForLong(result.getResult()));\r\n                CommonConverter.converterCommonErrorCode(result, errorCode);\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        builder.setErrorCode(errorCode);\r\n        return builder.build();\r\n    }', 'batchServiceProxyImpl.java', '3', 'batch', '0', '1511164072976', NULL);
INSERT INTO `nnk_code`.`ecsys_model_config` (`id`, `file_name`, `model_content`, `model_name`, `model_type`, `save_path`, `status`, `create_time`, `update_time`) VALUES ('24', 'batchController.java', '     <#assign jspPath = tableInfo.modulePkg + \"/\" + tableInfo.infoName+\"/\" + tableInfo.infoName/>\r\n	\r\n	@RequestMapping(\"/${tableInfo.protoEntity?uncap_first}BatchCreator\")\r\n    public String ${tableInfo.protoEntity?uncap_first}BatchCreator(ModelMap modelMap){\r\n        setPageModeForCreator(modelMap);\r\n        return \"${jspPath}BatchCreator\";\r\n    }\r\n\r\n    @RequestMapping(\"/${tableInfo.protoEntity?uncap_first}BatchCreator.do\")\r\n    public ModelAndView ${tableInfo.protoEntity?uncap_first}BatchCreator(${tableInfo.protoEntity?cap_first}BatchCreator creator){\r\n        ${tableInfo.protoFile?cap_first}.Create${tableInfo.protoEntity?cap_first}BatchRequest request = creator.buildCreateRequest();\r\n        if (request.get${tableInfo.protoEntity?cap_first}Batch().get${tableInfo.infoName?cap_first}List().size() == 0){\r\n            return getErrorResponse(\"未选择任何添加信息\");\r\n        }\r\n        ${tableInfo.protoFile?cap_first}.Create${tableInfo.protoEntity?cap_first}BatchResponse response = ${tableInfo.protoFile?uncap_first}Service.create${tableInfo.protoEntity?cap_first}Batch(request);\r\n        if (CommonErrorCodeResponseUtils.isErrorOK(response.getErrorCode())){\r\n            return getSuccessResponse();\r\n        }\r\n        return getErrorResponse(response.getErrorCode().getErrorMsg());\r\n    }', 'batchController.java', '3', 'batch', '0', '1511164072976', NULL);
INSERT INTO `nnk_code`.`ecsys_model_config` (`id`, `file_name`, `model_content`, `model_name`, `model_type`, `save_path`, `status`, `create_time`, `update_time`) VALUES ('25', '${tableInfo.protoEntity?cap_first}Tranfer.java', 'package com.nnk.ecsys.product.cmsweb.module.${tableInfo.modulePkg?uncap_first}.model;\r\n\r\nimport com.nnk.ecsys.protocol.common.Enum;\r\n\r\n/**\r\n * @author yuderen\r\n * @version 1.0 ${.now}\r\n */\r\npublic class ${tableInfo.protoEntity?cap_first}Tranfer {\r\n<#list tableInfo.columns as column>\r\n<#if column.batchColumn>\r\n   <#if column.enumBool>\r\n    private Enum.${column.enumType?cap_first} ${column.columnName?uncap_first};\r\n   <#else>\r\n    private ${column.filedType?cap_first} ${column.columnName?uncap_first};\r\n    </#if>\r\n</#if>\r\n</#list>\r\n\r\n<#list tableInfo.columns as column>\r\n<#if column.batchColumn>\r\n<#if column.enumBool><#assign filedType=\"Enum.\" + column.enumType?cap_first/><#else><#assign filedType=column.filedType?cap_first/></#if>\r\n    public ${filedType} get${column.columnName?cap_first}() {\r\n        return ${column.columnName?uncap_first};\r\n    }\r\n\r\n    public void set${column.columnName?cap_first}(${filedType} ${column.columnName?uncap_first}) {\r\n        this.${column.columnName?uncap_first} = ${column.columnName?uncap_first};\r\n    }\r\n	\r\n </#if>\r\n</#list>\r\n}\r\n', 'Tranfer.java', '3', 'batch', '0', '1511164072976', NULL);
INSERT INTO `nnk_code`.`ecsys_model_config` (`id`, `file_name`, `model_content`, `model_name`, `model_type`, `save_path`, `status`, `create_time`, `update_time`) VALUES ('26', '${tableInfo.protoEntity?cap_first}BatchCreator.java', 'package com.nnk.ecsys.product.cmsweb.module.${tableInfo.modulePkg?uncap_first}.model;\r\n\r\nimport com.nnk.ecsys.product.cmsweb.common.UserUtils;\r\nimport com.nnk.ecsys.protocol.cms.Model;\r\nimport com.nnk.ecsys.protocol.cms.${tableInfo.protoFile?cap_first};\r\nimport org.springframework.beans.BeanUtils;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n/**\r\n * @author yuderen\r\n * @version 2017/10/25 9:21\r\n */\r\npublic class ${tableInfo.protoEntity?cap_first}BatchCreator {\r\n\r\n    Model.${tableInfo.protoEntity?cap_first}Batch.Builder builder = Model.${tableInfo.protoEntity?cap_first}Batch.newBuilder();\r\n    List<${tableInfo.protoEntity?cap_first}Tranfer> list = new ArrayList();\r\n\r\n    public ${tableInfo.protoFile?cap_first}.Create${tableInfo.protoEntity?cap_first}BatchRequest buildCreateRequest(){\r\n        for (${tableInfo.protoEntity?cap_first}Tranfer tranfer : list){\r\n            if (null != tranfer.getId()){\r\n                Model.${tableInfo.protoEntity?cap_first}.Builder ${tableInfo.infoName?uncap_first} = Model.${tableInfo.protoEntity?cap_first}.newBuilder();\r\n                BeanUtils.copyProperties(tranfer,${tableInfo.infoName?uncap_first});\r\n                builder.add${tableInfo.protoEntity?cap_first}(${tableInfo.infoName?uncap_first});\r\n            }\r\n        }\r\n        return ${tableInfo.protoFile?cap_first}.Create${tableInfo.protoEntity?cap_first}BatchRequest.newBuilder().setOperateUserId(UserUtils.getCurrentUserId())\r\n                .set${tableInfo.protoEntity?cap_first}Batch(builder).build();\r\n    }\r\n\r\n    public void setBuilder(Model.${tableInfo.protoEntity?cap_first}Batch.Builder builder) {\r\n        this.builder = builder;\r\n    }\r\n\r\n    public List<${tableInfo.protoEntity?cap_first}Tranfer> getList() {\r\n        return list;\r\n    }\r\n\r\n    public void setList(List<${tableInfo.protoEntity?cap_first}Tranfer> list) {\r\n        this.list = list;\r\n    }\r\n}\r\n', 'BatchCreator.java', '3', 'batch', '0', '1511164072976', NULL);
INSERT INTO `nnk_code`.`ecsys_model_config` (`id`, `file_name`, `model_content`, `model_name`, `model_type`, `save_path`, `status`, `create_time`, `update_time`) VALUES ('27', '${tableInfo.protoEntity?uncap_first}BatchCreator.jsp', '<%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" session=\"false\" pageEncoding=\"UTF-8\" %>\r\n<%@ page import=\"com.nnk.ecsys.product.cmsweb.web.jstl.HtmlUtils\" %>\r\n<%@ page import=\"com.nnk.ecsys.protocol.common.Enum\" %>\r\n<%@ include file=\"/WEB-INF/pages/template/include.jsp\" %>\r\n\r\n<form id=\"viewerForm\"\r\n      class=\"pageForm required-validate viewerForm\"\r\n      method=\"post\"\r\n      action=\"${tableInfo.infoName?uncap_first}/${tableInfo.infoName?uncap_first}BatchCreator.do\"\r\n      viewer-mode=\"${_pageViewerMode}\"\r\n      onsubmit=\"return validateCallback(this, navTabAjaxDone);\">\r\n    <div class=\"pageContent\">\r\n        <div class=\"pageFormContent\">\r\n            <input type=\"hidden\" name=\"callbackType\" value=\"closeCurrentAndForward\"/>\r\n            <input type=\"hidden\" name=\"forwardUrl\" value=\"${tableInfo.infoName?uncap_first}/${tableInfo.infoName?uncap_first}List\"/>\r\n            <input type=\"hidden\" name=\"navTabId\" value=\"navTab_${tableInfo.infoName?uncap_first}List\"/>\r\n            <input type=\"hidden\" name=\"navTabTitle\" value=\"数据字典字段信息\"/>\r\n			<#list tableInfo.columns as column>\r\n				<#if column.batchColumn == false>\r\n			<div class=\"unit\">\r\n				<label>${column.columnComment}</label>\r\n				<#if column.enumBool>\r\n				<select name=\"${column.columnName}\" class=\"combox\" initValue=\"${\'$\'}{data.${column.columnName}}\">\r\n					<%=HtmlUtils.getValueSelectorForEnumer(${columns.enumType}Enumer.class)%>\r\n				</select>\r\n				<#elseif column.columnName == \'createTime\' || column.columnName == \'updateTime\'>\r\n				<input type=\"text\" value=\"${\'$\'}{nnk:convertMillisecondToLongDateString(data.${column.columnName})}\" size=\"40\"/>\r\n				<#else>\r\n					<#if column.protoType == \"double\"><#assign paramType = \"number\"><#elseif column.protoType ==\"string\"><#assign paramType = \"\"><#else><#assign paramType = \"digits\"></#if>\r\n					<#if column.amountBool>\r\n				<input name=\"${column.columnName}\" type=\"text\" class=\"${paramType}\" value=\"${\'$\'}{nnk:formatAmountDef(data.${column.columnName})}\" size=\"40\"/>\r\n					<#else>\r\n				<input name=\"${column.columnName}\" type=\"text\" class=\"${paramType}\" value=\"${\'$\'}{data.${column.columnName}}\" size=\"40\"/>\r\n					</#if>\r\n				 </#if>\r\n			</div>\r\n				</#if>\r\n			</#list>\r\n			<div class=\"unit divTable\">\r\n				<input name=\"curr${tableInfo.infoName?cap_first}Size\" value=\"0\" type=\"hidden\"/>\r\n				<input name=\"del${tableInfo.infoName?cap_first}Gid\" value=\"\" type=\"hidden\"/>\r\n				<table class=\"list viewTable ${tableInfo.protoEntity?uncap_first}Batch\" style=\"width: 80%\">\r\n					<thead>\r\n						<tr>\r\n				<#list tableInfo.columns as column>\r\n					<#if column.batchColumn>\r\n							<th>${column.columnComment}</th>\r\n					</#if>\r\n				</#list>\r\n							<th>操作</th>\r\n						</tr>\r\n					</thead>\r\n                    <tbody>\r\n						<c:forEach var=\"item\" items=\"${\'$\'}{resultList}\" varStatus=\"s\">\r\n						<tr><input name=\"editList[${s.index}].${tableInfo.priKey}\" type=\"hidden\" value=\"${\'$\'}{item.${tableInfo.priKey}}\" />\r\n							<td>\r\n                                <div class=\"unit\">\r\n						<#list tableInfo.columns as column>\r\n							<#if column.batchColumn>\r\n								<#if column.enumBool>\r\n                                    <select name=\"editList[${s.index}].${column.columnName?uncap_first}\" class=\"combox\" initValue=\"${\'$\'}{item.${column.columnName?uncap_first}}\">\r\n                                        <%=HtmlUtils.getValueSelectorForEnumer(DataDictControlStatusEnumer.class)%>\r\n                                    </select>\r\n								<#else>\r\n									<input name=\"editList[${s.index}].${column.columnName?uncap_first}\" type=\"text\" class=\"required\" value=\"${\'$\'}{item.${column.columnName?uncap_first}}\" size=\"20\"/>\r\n								</#if>\r\n							</#if>\r\n						</#list>\r\n                                </div>\r\n                            </td>\r\n							<td><a name=\"delBtn\" class=\"button del${tableInfo.infoName?cap_first}Btn\" delGid=\"${\'$\'}{item.${column.columnName?uncap_first}}\"><span>移除</span></a></td>\r\n						</tr>\r\n						</c:forEach>\r\n                    </tbody>\r\n				</table>\r\n			</div>\r\n		</div>\r\n    </div>\r\n	<script>\r\n\r\n		function callBackFunction(callBackArr) {\r\n			for (var i = 0;i < callBackArr.length; i++){\r\n				appendCallBackValue();\r\n				initCallBackValue(callBackArr[i]);\r\n			}\r\n			navTab.getCurrentPanel().initUI()\r\n		}\r\n\r\n		function initCallBackValue(callBackObj) {\r\n			var currSize = $(\"input[name=\'curr${tableInfo.protoEntity?cap_first}Size\'\",navTab.getCurrentPanel()).val();\r\n			var num = parseInt(currSize);\r\n	<#list tableInfo.columns as column>\r\n		<#if column.batchColumn>\r\n			$(\"input[name=\'list[\"+ num +\"].${column.columnName?uncap_first}\']\",navTab.getCurrentPanel()).val(callBackObj.${column.columnName?uncap_first});\r\n		</#if>\r\n	</#list>\r\n			var size = num + 1;\r\n			$(\"input[name=\'curr${tableInfo.protoEntity?cap_first}Size\'\",navTab.getCurrentPanel()).val(size);\r\n		}\r\n\r\n		function del${tableInfo.protoEntity?cap_first}Btn($this) {\r\n			$($this).parent().parent().parent().remove();\r\n		}\r\n\r\n		$(\".del${tableInfo.infoName?cap_first}Btn\").unbind(\"click\").bind(\"click\", function (e) {\r\n			var delGid = $(this).attr(\"delGid\");\r\n			var del${tableInfo.infoName?cap_first}Gid = $(\"input[name=\'del${tableInfo.infoName?cap_first}Gid\']\", navTab.getCurrentPanel()).val();\r\n			$(\"input[name=\'del${tableInfo.infoName?cap_first}Gid\']\", navTab.getCurrentPanel()).val(del${tableInfo.infoName?cap_first}Gid + delGid +\"|\");\r\n			$(this).parent().parent().remove();\r\n		});\r\n\r\n		/**\r\n		 * 添加支付渠道表数据\r\n		 */\r\n		function appendCallBackValue() {\r\n			var currSize = $(\"input[name=\'curr${tableInfo.protoEntity?cap_first}Size\'\",navTab.getCurrentPanel()).val();\r\n			var i = parseInt(currSize);\r\n			var str =\'<tr class=\"manualRouteClass\"><input name=\"addList[\'+ i +\'].{tableInfo.priKey}\" type=\"hidden\" value=\"0\"/>\';\r\n<#list tableInfo.columns as column>\r\n	<#if column.batchColumn>\r\n		<#if column.enumBool>\r\n			str += \'<td><select name=\"addList[\'+ i +\'].${column.columnName?uncap_first}\" class=\"required combox\"><%=HtmlUtils.getSelectorForEnumer(Enum.${column.enumType?cap_first}.class)%></td>\';\r\n		<#else>\r\n			$(\"input[name=\'addList[\'+ i +\'].${column.columnName?uncap_first}\']\",navTab.getCurrentPanel()).val(callBackObj.${column.columnName?uncap_first});\r\n		</#if>\r\n	</#if>\r\n</#list>\r\n			str += \'<td><a name=\"delBtn\" class=\"button\"><span onclick=\"del${tableInfo.protoEntity?cap_first}Btn(this)\">移除</span></a></td>\';\r\n			$(\'.${tableInfo.protoEntity?uncap_first}Batch\',navTab.getCurrentPanel()).append(str);\r\n		}\r\n	</script>\r\n	<div class=\"formBar\">\r\n		<ul>\r\n			<li><a>\r\n				<div class=\"buttonActive\"><div class=\"buttonContent\"><button type=\"submit\">创 建</button></div></div>\r\n			</a></li>\r\n		</ul>\r\n	</div>\r\n\r\n</form>', 'batchCreator.jsp', '3', 'batch', '0', '1511164072976', NULL);
INSERT INTO `nnk_code`.`ecsys_model_config` (`id`, `file_name`, `model_content`, `model_name`, `model_type`, `save_path`, `status`, `create_time`, `update_time`) VALUES ('28', '${tableInfo.master.infoName?cap_first}Service.java', 'package com.nnk.ecsys.cms.module.${tableInfo.master.modulePkg?uncap_first}.service;\r\n\r\nimport com.nnk.ecsys.cms.model.common.PaginationResponse;\r\nimport com.nnk.ecsys.cms.model.common.ServiceResponse;\r\nimport com.nnk.ecsys.database.mapper.${tableInfo.master.sqlFile?uncap_first}.entity.${tableInfo.master.entityName?cap_first};\r\nimport com.nnk.ecsys.protocol.cms.${tableInfo.master.protoFile?cap_first};\r\nimport com.nnk.ecsys.protocol.cms.Model;\r\nimport com.nnk.ecsys.utils.exception.CommonErrorException;\r\n\r\nimport java.util.List;\r\n\r\n/**\r\n * @author yuderen\r\n * @version 2017/9/18 19:19\r\n */\r\npublic interface ${tableInfo.master.infoName?cap_first}Service {\r\n\r\n    /**\r\n     * 查询${tableInfo.master.tableComment?cap_first}列表\r\n     * @param request\r\n     * @return\r\n     */\r\n    public PaginationResponse<${tableInfo.master.entityName?cap_first}> query${tableInfo.master.protoEntity?cap_first}(${tableInfo.master.protoFile?cap_first}.Query${tableInfo.master.protoEntity?cap_first}Request request);\r\n\r\n    /**\r\n     * 创建${tableInfo.master.tableComment?cap_first}\r\n     * @param ${tableInfo.master.protoEntity?uncap_first}Master\r\n     * @return\r\n     * @throws CommonErrorException\r\n     */\r\n    public ServiceResponse create${tableInfo.master.protoEntity?cap_first}Master(Model.${tableInfo.master.protoEntity?cap_first}Master ${tableInfo.master.entityName?uncap_first}Master);\r\n\r\n    /**\r\n     * 删除${tableInfo.master.tableComment?cap_first}\r\n     * @param gids\r\n     * @return\r\n     * @throws CommonErrorException\r\n     */\r\n    public ServiceResponse delete${tableInfo.master.protoEntity?cap_first}Master(List<Long> gids);\r\n\r\n    /**\r\n     * 修改${tableInfo.master.tableComment?cap_first}\r\n     * @param ${tableInfo.master.protoEntity?uncap_first}Master\r\n     * @return\r\n     * @throws CommonErrorException\r\n     */\r\n    public ServiceResponse update${tableInfo.master.protoEntity?cap_first}Master(Model.${tableInfo.master.protoEntity?cap_first}Master ${tableInfo.master.protoEntity?uncap_first}Master);\r\n\r\n    /**\r\n     * 查询${tableInfo.master.tableComment?cap_first}Master信息\r\n     * @param id\r\n     * @return\r\n     */\r\n    public Model.${tableInfo.master.protoEntity?cap_first}Master query${tableInfo.master.protoEntity?cap_first}Master(Long id);\r\n\r\n}\r\n', 'service.java', '2', 'server/com/nnk/ecsys/cms/module/${tableInfo.master.modulePkg?uncap_first}/service;', '0', '1511164072976', NULL);
INSERT INTO `nnk_code`.`ecsys_model_config` (`id`, `file_name`, `model_content`, `model_name`, `model_type`, `save_path`, `status`, `create_time`, `update_time`) VALUES ('29', '${tableInfo.master.infoName?cap_first}ServiceImpl.java', 'package com.nnk.ecsys.cms.module.${tableInfo.master.modulePkg?uncap_first}.service.fade;\r\n\r\nimport com.nnk.ecsys.cms.common.CmsIdGenerator;\r\nimport com.nnk.ecsys.cms.common.Validator;\r\nimport com.nnk.ecsys.cms.exception.DatabaseOperateException;\r\nimport com.nnk.ecsys.cms.model.common.PaginationRequest;\r\nimport com.nnk.ecsys.cms.model.common.PaginationResponse;\r\nimport com.nnk.ecsys.cms.model.common.ServiceResponse;\r\nimport com.nnk.ecsys.cms.module.${tableInfo.master.modulePkg?uncap_first}.mapper.${tableInfo.master.protoEntity?cap_first}Mapper;\r\n<#list tableInfo.slave as slave>\r\nimport com.nnk.ecsys.cms.module.${tableInfo.master.modulePkg?uncap_first}.mapper.${slave.protoEntity?cap_first}Mapper;\r\n</#list>\r\nimport com.nnk.ecsys.cms.module.${tableInfo.master.modulePkg?uncap_first}.service.${tableInfo.master.infoName?cap_first}Service;\r\n<#list tableInfo.slave as slave>\r\nimport com.nnk.ecsys.cms.util.ConverterUtil;\r\nimport com.nnk.ecsys.database.mapper.${tableInfo.master.sqlFile?uncap_first}.entity.${slave.entityName?cap_first};\r\n</#list>\r\nimport com.nnk.ecsys.database.mapper.${tableInfo.master.sqlFile?uncap_first}.entity.${tableInfo.master.entityName?cap_first};\r\nimport com.nnk.ecsys.protocol.cms.${tableInfo.master.protoFile?cap_first};\r\nimport com.nnk.ecsys.protocol.cms.Model;\r\nimport com.nnk.ecsys.protocol.common.Enum;\r\nimport com.nnk.ecsys.utils.collection.CollectionsUtil;\r\nimport com.nnk.ecsys.utils.date.DateUtils;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.util.List;\r\n\r\n/**\r\n * @author yuderen\r\n * @version 2017/9/18 19:26\r\n */\r\n@Service\r\npublic class ${tableInfo.master.infoName?cap_first}ServiceImpl implements ${tableInfo.master.infoName?cap_first}Service {\r\n\r\n	@Autowired\r\n	private ${tableInfo.master.protoEntity?cap_first}Mapper ${tableInfo.master.protoEntity?uncap_first}Mapper;\r\n<#list tableInfo.slave as slave>\r\n	@Autowired\r\n	private ${slave.protoEntity?cap_first}Mapper ${slave.protoEntity?uncap_first}Mapper;\r\n</#list>\r\n\r\n\r\n    @Override\r\n    public PaginationResponse<${tableInfo.master.protoEntity?cap_first}> query${tableInfo.master.protoEntity?cap_first}(${tableInfo.master.protoFile?cap_first}.Query${tableInfo.master.protoEntity?cap_first}Request request) {\r\n        PaginationRequest page = new PaginationRequest(request.getPagination());\r\n        int total = ${tableInfo.master.protoEntity?uncap_first}Mapper.find${tableInfo.master.protoEntity?cap_first}Count(request);\r\n        List<${tableInfo.master.protoEntity?cap_first}> result = ${tableInfo.master.protoEntity?uncap_first}Mapper.findPaged${tableInfo.master.protoEntity?cap_first}(page,request);\r\n        PaginationResponse<${tableInfo.master.protoEntity?cap_first}> response = new PaginationResponse<>(total,page,result);\r\n        return response;\r\n    }\r\n\r\n    @Override\r\n    public ServiceResponse create${tableInfo.master.protoEntity?cap_first}Master(Model.${tableInfo.master.protoEntity?cap_first}Master ${tableInfo.master.infoName?uncap_first}Master) {\r\n        ServiceResponse<Long> response = new ServiceResponse<Long>();\r\n        ${tableInfo.master.entityName?cap_first} ${tableInfo.master.entityName?uncap_first} = ConverterUtil.toEntity(${tableInfo.master.protoEntity?cap_first}.class,${tableInfo.master.infoName?uncap_first}Master.get${tableInfo.master.infoName?cap_first}());\r\n        ${tableInfo.master.entityName?uncap_first}.set${tableInfo.master.priKey?cap_first}(CmsIdGenerator.generateId());\r\n        ${tableInfo.master.entityName?uncap_first}.setRecordStatus(Enum.PayChannelStatus.PAY_CHANNEL_STATUS_ENABLED_VALUE);\r\n        ${tableInfo.master.entityName?uncap_first}.setUpdateTime(DateUtils.getCurrentMilliseconds());\r\n        ${tableInfo.master.entityName?uncap_first}.setCreateTime(DateUtils.getCurrentMilliseconds());\r\n        int num = ${tableInfo.master.protoEntity?uncap_first}Mapper.insertSelective(${tableInfo.master.entityName?uncap_first});\r\n		<#list tableInfo.slave as slave>\r\n        boolean insert${slave.infoName?cap_first}Success = insert${slave.protoEntity?cap_first}(${tableInfo.master.infoName?uncap_first}Master,${tableInfo.master.entityName?uncap_first});\r\n		</#list>\r\n        if (num == 0 <#list tableInfo.slave as slave> || !insert${slave.infoName?cap_first}Success </#list>){\r\n            throw new DatabaseOperateException(\"创建记录失败\");\r\n        }\r\n        response.setResult(${tableInfo.master.protoEntity?uncap_first}.get${tableInfo.master.priKey?cap_first}());\r\n        return response;\r\n    }\r\n\r\n    @Override\r\n    public ServiceResponse delete${tableInfo.master.protoEntity?cap_first}Master(List<Long> ${tableInfo.master.priKey?uncap_first}s) {\r\n        ServiceResponse response = new ServiceResponse();\r\n        if (Validator.isInvalidField(CollectionsUtil.isNotEmpty(${tableInfo.master.priKey?uncap_first}s), \"删除的集合${tableInfo.master.priKey?uncap_first}不能为空\", response))\r\n            return response;\r\n        int num = 0;\r\n        for(Long ${tableInfo.master.priKey?uncap_first} : ${tableInfo.master.priKey?uncap_first}s){\r\n            ${tableInfo.master.entityName?cap_first} ${tableInfo.master.entityName?uncap_first} = ${tableInfo.master.protoEntity?uncap_first}Mapper.selectByPrimaryKey(${tableInfo.master.priKey?uncap_first});\r\n            if(null != ${tableInfo.master.entityName?uncap_first}){\r\n                ${tableInfo.master.entityName?uncap_first}.setUpdateTime(DateUtils.getCurrentMilliseconds());\r\n                ${tableInfo.master.entityName?uncap_first}.setRecordStatus(Enum.CommonRecordStatus.COMMON_RECORD_STATUS_REMOVED_VALUE);\r\n                num = ${tableInfo.master.protoEntity?uncap_first}Mapper.updateByPrimaryKeySelective(${tableInfo.master.entityName?uncap_first});\r\n				<#list tableInfo.slave as slave>\r\n                boolean delete${slave.infoName?cap_first}Success = delete${slave.protoEntity?cap_first}(${tableInfo.master.entityName?uncap_first});\r\n				</#list>\r\n                if (num == 0 <#list tableInfo.slave as slave> || !delete${slave.infoName?cap_first}Success </#list>) {\r\n                    throw new DatabaseOperateException(\"删除记录失败\");\r\n                }\r\n            }\r\n        }\r\n        return response;\r\n    }\r\n\r\n    @Override\r\n    public ServiceResponse update${tableInfo.master.protoEntity?cap_first}Master(Model.${tableInfo.master.protoEntity?cap_first}Master ${tableInfo.master.infoName?uncap_first}Master) {\r\n        ServiceResponse response = new ServiceResponse();\r\n        ${tableInfo.master.entityName?cap_first} ${tableInfo.master.entityName?uncap_first} = ConverterUtil.toEntity(${tableInfo.master.protoEntity?cap_first}.class,${tableInfo.master.infoName?uncap_first}Master.get${tableInfo.master.infoName?cap_first}());\r\n        ${tableInfo.master.entityName?cap_first} update = ${tableInfo.master.protoEntity?uncap_first}Mapper.selectByPrimaryKey(${tableInfo.master.entityName?uncap_first}.get${tableInfo.master.priKey?cap_first}());\r\n        int num = 0;\r\n        if(null != update){\r\n            ${tableInfo.master.entityName?uncap_first}.setUpdateTime(DateUtils.getCurrentMilliseconds());\r\n            num = ${tableInfo.master.protoEntity?uncap_first}Mapper.updateByPrimaryKeySelective(${tableInfo.master.entityName?uncap_first});\r\n			<#list tableInfo.slave as slave>\r\n            boolean insert${slave.infoName?cap_first}Success = insert${slave.protoEntity?cap_first}(${tableInfo.master.infoName?uncap_first}Master,${tableInfo.master.entityName?uncap_first});\r\n            boolean update${slave.infoName?cap_first}Success = update${slave.protoEntity?cap_first}(${tableInfo.master.infoName?uncap_first}Master);\r\n			</#list>\r\n            if (num == 0 <#list tableInfo.slave as slave> || !insert${slave.infoName?cap_first}Success || !update${slave.infoName?cap_first}Success </#list>){\r\n                throw new DatabaseOperateException(\"更新记录失败\");\r\n            }\r\n        }\r\n        return response;\r\n    }\r\n\r\n    @Override\r\n    public Model.${tableInfo.master.protoEntity?cap_first}Master query${tableInfo.master.protoEntity?cap_first}Master(Long gid) {\r\n        Model.${tableInfo.master.protoEntity?cap_first}Master.Builder builder = Model.${tableInfo.master.protoEntity?cap_first}Master.newBuilder();\r\n        ${tableInfo.master.entityName?cap_first} ${tableInfo.master.entityName?uncap_first} = ${tableInfo.master.protoEntity?uncap_first}Mapper.selectByPrimaryKey(gid);\r\n        if (null != ${tableInfo.master.entityName?uncap_first}){\r\n            builder.set${tableInfo.master.infoName?cap_first}(ConverterUtil.toModel(Model.${tableInfo.master.protoEntity?cap_first}.class,${tableInfo.master.entityName?uncap_first}));\r\n			<#list tableInfo.slave as slave>\r\n            List<${slave.entityName?cap_first}> ${slave.entityName?uncap_first}List = ${slave.protoEntity?uncap_first}Mapper.find${slave.protoEntity?cap_first}By${slave.linkItem?cap_first}(${tableInfo.master.entityName?uncap_first}.get${slave.priKey?cap_first}());\r\n            builder.addAllEdit${slave.infoName?cap_first}(ConverterUtil.toModelList(Model.${slave.protoEntity?cap_first}.class, ${slave.entityName?uncap_first}List));\r\n			</#list>\r\n        }\r\n        return builder.build();\r\n    }\r\n\r\n    <#list tableInfo.slave as slave>\r\n    /**\r\n     * 创建${slave.tableComment}\r\n     * @param ${tableInfo.master.infoName?uncap_first}Master\r\n     * @param ${tableInfo.master.entityName?uncap_first}\r\n     * @return\r\n     */\r\n    public boolean insert${slave.protoEntity?cap_first}(Model.${tableInfo.master.protoEntity?cap_first}Master ${tableInfo.master.infoName?uncap_first}Master, ${tableInfo.master.entityName?cap_first} ${tableInfo.master.entityName?uncap_first}){\r\n        List<Model.${slave.protoEntity?cap_first}> ${slave.protoEntity?uncap_first}List = ${tableInfo.master.infoName?uncap_first}Master.getAdd${slave.infoName?cap_first}List();\r\n        for (Model.${slave.protoEntity?cap_first} builder : ${slave.protoEntity?uncap_first}List){\r\n            ${slave.entityName?cap_first} ${slave.entityName?uncap_first} = ConverterUtil.toEntity(${slave.protoEntity?cap_first}.class,builder);\r\n            ${slave.entityName?uncap_first}.set${slave.priKey?cap_first}(CmsIdGenerator.generateId());\r\n            ${slave.entityName?uncap_first}.setCreateTime(DateUtils.getCurrentMilliseconds());\r\n            ${slave.entityName?uncap_first}.set${slave.linkItem?cap_first}(${tableInfo.master.entityName?uncap_first}.get${tableInfo.master.priKey?cap_first}());\r\n            ${slave.entityName?uncap_first}.setUpdateTime(DateUtils.getCurrentMilliseconds());\r\n            int num = ${slave.protoEntity?uncap_first}Mapper.insertSelective(${slave.entityName?uncap_first});\r\n            if (num == 0){\r\n                return false;\r\n            }\r\n        }\r\n        return update${slave.protoEntity?cap_first}Status(${tableInfo.master.infoName?uncap_first}Master);\r\n    }\r\n\r\n    /**\r\n     * 更新${slave.tableComment}\r\n     * @param ${tableInfo.master.infoName?uncap_first}Master\r\n     * @return\r\n     */\r\n    public boolean update${slave.protoEntity?cap_first}(Model.${tableInfo.master.protoEntity?cap_first}Master ${tableInfo.master.infoName?uncap_first}Master){\r\n        List<Model.${slave.protoEntity?cap_first}> ${slave.protoEntity?uncap_first}List = ${tableInfo.master.infoName?uncap_first}Master.getEdit${slave.infoName?cap_first}List();\r\n        for (Model.${slave.protoEntity?cap_first} builder : ${slave.protoEntity?uncap_first}List){\r\n            ${slave.entityName?cap_first} ${slave.entityName?uncap_first} = ConverterUtil.toEntity(${slave.protoEntity?cap_first}.class,builder);\r\n            ${slave.entityName?uncap_first}.setUpdateTime(DateUtils.getCurrentMilliseconds());\r\n            int num = ${slave.protoEntity?uncap_first}Mapper.updateByPrimaryKeySelective(${slave.entityName?uncap_first});\r\n            if (num == 0){\r\n                return false;\r\n            }\r\n        }\r\n        return update${slave.protoEntity?cap_first}Status(${tableInfo.master.infoName?uncap_first}Master);\r\n    }\r\n\r\n    /**\r\n     * 将删除的${slave.tableComment}更新为已删除\r\n     * @param ${tableInfo.master.infoName?uncap_first}Master\r\n     * @return\r\n     */\r\n    public boolean update${slave.protoEntity?cap_first}Status(Model.${tableInfo.master.protoEntity?cap_first}Master ${tableInfo.master.infoName?uncap_first}Master){\r\n        for (Long gid: ${tableInfo.master.infoName?uncap_first}Master.getDel${slave.infoName?cap_first}GidList()){\r\n            ${slave.entityName?cap_first} ${slave.entityName?uncap_first} = new ${slave.entityName?cap_first}();\r\n            ${slave.entityName?uncap_first}.set${slave.priKey?cap_first}(gid);\r\n            ${slave.entityName?uncap_first}.setRecordStatus(Enum.CommonRecordStatus.COMMON_RECORD_STATUS_REMOVED_VALUE);\r\n            int num = ${slave.protoEntity?uncap_first}Mapper.updateByPrimaryKeySelective(${slave.entityName?uncap_first});\r\n            if (num == 0){\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * 移除${slave.tableComment}（逻辑删除）\r\n     * @param ${tableInfo.master.entityName?uncap_first}\r\n     * @return\r\n     */\r\n    private boolean delete${slave.protoEntity?cap_first}(${tableInfo.master.entityName?cap_first} ${tableInfo.master.entityName?uncap_first}){\r\n        List<${slave.entityName?cap_first}> ${slave.entityName?uncap_first}List = ${slave.protoEntity?uncap_first}Mapper.find${slave.entityName?cap_first}By${slave.linkItem?cap_first}(${tableInfo.master.entityName?uncap_first}.get${tableInfo.master.priKey?cap_first}());\r\n        for (${slave.entityName?cap_first} ${slave.infoName?uncap_first} : ${slave.entityName?uncap_first}List){\r\n            ${slave.infoName?uncap_first}.setUpdateTime(DateUtils.getCurrentMilliseconds());\r\n            ${slave.infoName?uncap_first}.setRecordStatus(Enum.CommonRecordStatus.COMMON_RECORD_STATUS_REMOVED_VALUE);\r\n            int num = ${slave.protoEntity?uncap_first}Mapper.updateByPrimaryKey(${slave.infoName?uncap_first});\r\n            if (num == 0){\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n	\r\n	</#list>\r\n}\r\n', 'serviceImpl.java', '2', 'server/com/nnk/ecsys/cms/module/${tableInfo.master.modulePkg?uncap_first}/service/fade', '0', '1511164072976', NULL);
INSERT INTO `nnk_code`.`ecsys_model_config` (`id`, `file_name`, `model_content`, `model_name`, `model_type`, `save_path`, `status`, `create_time`, `update_time`) VALUES ('30', '${tableInfo.master.protoFile?cap_first}ServiceProxyImpl.java', 'package com.nnk.ecsys.cms.module.${tableInfo.master.modulePkg?uncap_first}.proxy;\r\n\r\nimport com.nnk.ecsys.cms.converter.CommonConverter;\r\nimport com.nnk.ecsys.cms.model.common.PaginationResponse;\r\nimport com.nnk.ecsys.cms.model.common.ServiceResponse;\r\nimport com.nnk.ecsys.cms.module.${tableInfo.master.modulePkg?uncap_first}.converter.${tableInfo.master.protoFile?cap_first}Converter;\r\nimport com.nnk.ecsys.cms.module.${tableInfo.master.modulePkg?uncap_first}.service.${tableInfo.master.modulePkg?cap_first}Service;\r\nimport com.nnk.ecsys.cms.service.proxy.${tableInfo.master.protoFile?cap_first}ServiceProxy;\r\nimport com.nnk.ecsys.database.mapper.${tableInfo.master.sqlFile?uncap_first}.entity.${tableInfo.master.entityName?cap_first};\r\nimport com.nnk.ecsys.protocol.cms.${tableInfo.master.protoFile?cap_first};\r\nimport com.nnk.ecsys.protocol.cms.Model;\r\nimport com.nnk.ecsys.protocol.common.Utils;\r\nimport com.nnk.ecsys.utils.exception.CommonErrorException;\r\nimport com.nnk.ecsys.utils.model.error.CommonErrorCodeResponseUtils;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\n\r\nimport java.util.List;\r\n\r\n/**\r\n * @author yuderen\r\n * @version ${.now}\r\n */\r\npublic class ${tableInfo.master.protoFile?cap_first}ServiceProxyImpl implements ${tableInfo.master.protoFile?cap_first}ServiceProxy {\r\n\r\n    private Logger logger = LoggerFactory.getLogger(${tableInfo.master.protoFile?cap_first}ServiceProxyImpl.class);\r\n\r\n    @Autowired\r\n    private ${tableInfo.master.infoName?cap_first}Service ${tableInfo.master.infoName?uncap_first}Service;\r\n\r\n    @Override\r\n    public ${tableInfo.master.protoFile?cap_first}.Query${tableInfo.master.protoEntity?cap_first}Response query${tableInfo.master.protoEntity?cap_first}(${tableInfo.master.protoFile?cap_first}.Query${tableInfo.master.protoEntity?cap_first}Request request) {\r\n        ${tableInfo.master.protoFile?cap_first}.Query${tableInfo.master.protoEntity?cap_first}Response.Builder builder = ${tableInfo.master.protoFile?cap_first}.Query${tableInfo.master.protoEntity?cap_first}Response.newBuilder();\r\n        try{\r\n            PaginationResponse<${tableInfo.master.entityName?cap_first}> result = ${tableInfo.master.infoName?uncap_first}Service.query${tableInfo.master.protoEntity?cap_first}(request);\r\n            builder.setPagination(CommonConverter.toPagination(result));\r\n            builder.addAllResult(ConverterUtil.toModelList(Model.${tableInfo.master.protoEntity?cap_first}.class,result.getList()));\r\n            builder.setErrorCode(CommonErrorCodeResponseUtils.buildSucceedInstance());\r\n        } catch (Exception e) {\r\n			logger.error(e.getMessage());\r\n            e.printStackTrace();\r\n        }\r\n        return builder.build();\r\n    }\r\n\r\n    @Override\r\n    public ${tableInfo.master.protoFile?cap_first}.Create${tableInfo.master.protoEntity?cap_first}MasterResponse create${tableInfo.master.protoEntity?cap_first}Master(${tableInfo.master.protoFile?cap_first}.Create${tableInfo.master.protoEntity?cap_first}MasterRequest request) {\r\n        ${tableInfo.master.protoFile?cap_first}.Create${tableInfo.master.protoEntity?cap_first}MasterResponse.Builder builder = ${tableInfo.master.protoFile?cap_first}.Create${tableInfo.master.protoEntity?cap_first}MasterResponse.newBuilder();\r\n        Utils.CommonErrorCodeResponse.Builder errorCode = Utils.CommonErrorCodeResponse.newBuilder();\r\n        try {\r\n            ServiceResponse<Long> result = ${tableInfo.master.infoName?uncap_first}Service.create${tableInfo.master.protoEntity?cap_first}Master(request.get${tableInfo.master.infoName?cap_first}Master());\r\n            builder.set${tableInfo.master.priKey?cap_first}(CommonConverter.convertNullForLong(result.getResult()));\r\n            CommonConverter.converterCommonErrorCode(result, errorCode);\r\n        } catch (Exception e) {\r\n			logger.error(e.getMessage());\r\n            e.printStackTrace();\r\n        }\r\n        builder.setErrorCode(errorCode);\r\n        return builder.build();\r\n    }\r\n\r\n    @Override\r\n    public ${tableInfo.master.protoFile?cap_first}.Delete${tableInfo.master.protoEntity?cap_first}MasterResponse delete${tableInfo.master.protoEntity?cap_first}Master(${tableInfo.master.protoFile?cap_first}.Delete${tableInfo.master.protoEntity?cap_first}MasterRequest request) {\r\n        ${tableInfo.master.protoFile?cap_first}.Delete${tableInfo.master.protoEntity?cap_first}MasterResponse.Builder builder = ${tableInfo.master.protoFile?cap_first}.Delete${tableInfo.master.protoEntity?cap_first}MasterResponse.newBuilder();\r\n        Utils.CommonErrorCodeResponse.Builder errorCode = Utils.CommonErrorCodeResponse.newBuilder();\r\n        try {\r\n            ServiceResponse result = ${tableInfo.master.infoName?uncap_first}Service.delete${tableInfo.master.protoEntity?cap_first}Master(request.get${tableInfo.master.priKey?cap_first}List());\r\n            CommonConverter.converterCommonErrorCode(result, errorCode);\r\n        } catch (Exception e) {\r\n			logger.error(e.getMessage());\r\n            e.printStackTrace();\r\n        }\r\n        builder.setErrorCode(errorCode);\r\n        return builder.build();\r\n    }\r\n\r\n    @Override\r\n    public ${tableInfo.master.protoFile?cap_first}.Update${tableInfo.master.protoEntity?cap_first}MasterResponse update${tableInfo.master.protoEntity?cap_first}Master(${tableInfo.master.protoFile?cap_first}.Update${tableInfo.master.protoEntity?cap_first}MasterRequest request) {\r\n        ${tableInfo.master.protoFile?cap_first}.Update${tableInfo.master.protoEntity?cap_first}MasterResponse.Builder builder = ${tableInfo.master.protoFile?cap_first}.Update${tableInfo.master.protoEntity?cap_first}MasterResponse.newBuilder();\r\n        Utils.CommonErrorCodeResponse.Builder errorCode = Utils.CommonErrorCodeResponse.newBuilder();\r\n        try {\r\n            ServiceResponse result = ${tableInfo.master.infoName?uncap_first}Service.update${tableInfo.master.protoEntity?cap_first}Master(request.get${tableInfo.master.infoName?cap_first}Master());\r\n            CommonConverter.converterCommonErrorCode(result, errorCode);\r\n        } catch (Exception e) {\r\n			logger.error(e.getMessage());\r\n            e.printStackTrace();\r\n        }\r\n        builder.setErrorCode(errorCode);\r\n        return builder.build();\r\n    }\r\n\r\n    @Override\r\n    public ${tableInfo.master.protoFile?cap_first}.Query${tableInfo.master.protoEntity?cap_first}MasterResponse query${tableInfo.master.protoEntity?cap_first}Master(${tableInfo.master.protoFile?cap_first}.Query${tableInfo.master.protoEntity?cap_first}MasterRequest request) {\r\n        ${tableInfo.master.protoFile?cap_first}.Query${tableInfo.master.protoEntity?cap_first}MasterResponse.Builder builder = ${tableInfo.master.protoFile?cap_first}.Query${tableInfo.master.protoEntity?cap_first}MasterResponse.newBuilder();\r\n        try {\r\n            Model.${tableInfo.master.protoEntity?cap_first}Master master = ${tableInfo.master.infoName?uncap_first}Service.query${tableInfo.master.protoEntity?cap_first}Master(request.get${tableInfo.master.infoName?cap_first}().get${tableInfo.master.priKey?cap_first}());\r\n            builder.setResult(master);\r\n            builder.setErrorCode(CommonErrorCodeResponseUtils.buildSucceedInstance());\r\n        } catch (Exception e) {\r\n            logger.error(e.getMessage());\r\n            e.printStackTrace();\r\n        }\r\n        return builder.build();\r\n    }\r\n\r\n}\r\n', 'ServiceProxyImpl.java', '2', 'server/com/nnk/ecsys/cms/module/${tableInfo.master.modulePkg?uncap_first}/proxy', '0', '1511164072976', NULL);
INSERT INTO `nnk_code`.`ecsys_model_config` (`id`, `file_name`, `model_content`, `model_name`, `model_type`, `save_path`, `status`, `create_time`, `update_time`) VALUES ('31', '${tableInfo.master.protoFile?cap_first}Converter.java', 'package com.nnk.ecsys.cms.module.${tableInfo.master.modulePkg?uncap_first}.converter;\r\n\r\n<#list tableInfo.slave as slave>\r\nimport com.nnk.ecsys.database.mapper.${tableInfo.master.sqlFile?uncap_first}.entity.${slave.entityName?cap_first};\r\n</#list>\r\nimport com.nnk.ecsys.database.mapper.${tableInfo.master.sqlFile?uncap_first}.entity.${tableInfo.master.entityName?cap_first};\r\nimport com.nnk.ecsys.protocol.cms.Model;\r\nimport com.nnk.ecsys.utils.BeanUtilsExt;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n/**\r\n * @author : yuderen\r\n * @version: 2017-9-18 14:42:29\r\n */\r\npublic class ${tableInfo.master.protoFile?cap_first}Converter {\r\n\r\n    public static List<Model.${tableInfo.master.protoEntity?cap_first}> to${tableInfo.master.infoName?cap_first}List(List<${tableInfo.master.entityName?cap_first}> List){\r\n        List<Model.${tableInfo.master.protoEntity?cap_first}> ${tableInfo.master.infoName?uncap_first}List = new ArrayList<Model.${tableInfo.master.protoEntity?cap_first}>();\r\n        if(null == List){\r\n            return ${tableInfo.master.infoName?uncap_first}List;\r\n        }\r\n        for (${tableInfo.master.entityName?cap_first} ${tableInfo.master.entityName?uncap_first} : List){\r\n            ${tableInfo.master.infoName?uncap_first}List.add(to${tableInfo.master.protoEntity?cap_first}(${tableInfo.master.entityName?uncap_first}));\r\n        }\r\n        return ${tableInfo.master.infoName?uncap_first}List;\r\n    }\r\n\r\n    public static Model.${tableInfo.master.protoEntity?cap_first} to${tableInfo.master.protoEntity?cap_first}(${tableInfo.master.entityName?cap_first} ${tableInfo.master.entityName?uncap_first}){\r\n        if(null == ${tableInfo.master.entityName?uncap_first}){\r\n            return null;\r\n        }\r\n        Model.${tableInfo.master.protoEntity?cap_first}.Builder builder = Model.${tableInfo.master.protoEntity?cap_first}.newBuilder();\r\n        BeanUtilsExt.copyProperties(${tableInfo.master.entityName?uncap_first}, builder);\r\n        return builder.build();\r\n    }\r\n\r\n    public static ${tableInfo.master.entityName?cap_first} to${tableInfo.master.entityName?cap_first}(Model.${tableInfo.master.protoEntity?cap_first} ${tableInfo.master.infoName?uncap_first}){\r\n        if(null == ${tableInfo.master.infoName?uncap_first}){\r\n            return null;\r\n        }\r\n        ${tableInfo.master.entityName?cap_first} ${tableInfo.master.entityName?uncap_first}  = new ${tableInfo.master.entityName?cap_first}();\r\n        BeanUtilsExt.copyProperties(${tableInfo.master.infoName?uncap_first}, ${tableInfo.master.entityName?uncap_first});\r\n        return ${tableInfo.master.entityName?uncap_first};\r\n    }\r\n\r\n	<#list tableInfo.slave as slave>\r\n    public static List<Model.${slave.protoEntity?cap_first}> to${slave.infoName?cap_first}List(List<${slave.entityName?cap_first}> ${slave.entityName?uncap_first}List){\r\n        List<Model.${slave.protoEntity?cap_first}> ${slave.infoName?uncap_first}List = new ArrayList<Model.${slave.protoEntity?cap_first}>();\r\n        if(null == ${slave.entityName?uncap_first}List){\r\n            return ${slave.infoName?uncap_first}List;\r\n        }\r\n        for (${slave.entityName?cap_first} ${slave.entityName?uncap_first} : ${slave.entityName?uncap_first}List){\r\n            ${slave.infoName?uncap_first}List.add(to${slave.infoName?cap_first}(${slave.entityName?uncap_first}));\r\n        }\r\n        return ${slave.infoName?uncap_first}List;\r\n    }\r\n\r\n    public static Model.${slave.protoEntity?cap_first} to${slave.infoName?cap_first}(${slave.entityName?cap_first} ${slave.entityName?uncap_first}){\r\n        if(null == ${slave.entityName?uncap_first}){\r\n            return null;\r\n        }\r\n        Model.${slave.protoEntity?cap_first}.Builder builder = Model.${slave.protoEntity?cap_first}.newBuilder();\r\n        BeanUtilsExt.copyProperties(${slave.entityName?uncap_first}, builder);\r\n        return builder.build();\r\n    }\r\n\r\n    public static ${slave.entityName?cap_first} to${slave.entityName?cap_first}(Model.${slave.protoEntity?cap_first} ${slave.infoName?uncap_first}){\r\n        if(null == ${slave.infoName?uncap_first}){\r\n            return null;\r\n        }\r\n        ${slave.entityName?cap_first} ${slave.entityName?uncap_first} = new ${slave.entityName?cap_first}();\r\n        BeanUtilsExt.copyProperties(${slave.infoName?uncap_first}, ${slave.entityName?uncap_first});\r\n        return ${slave.entityName?uncap_first};\r\n    }\r\n	\r\n	</#list>\r\n}\r\n', 'Converter.java', '2', 'server/com/nnk/ecsys/cms/module/${tableInfo.master.modulePkg?uncap_first}/converter', '0', '1511164072976', '1512720818669');
INSERT INTO `nnk_code`.`ecsys_model_config` (`id`, `file_name`, `model_content`, `model_name`, `model_type`, `save_path`, `status`, `create_time`, `update_time`) VALUES ('32', '${tableInfo.master.infoName?cap_first}Controller.java', 'package com.nnk.ecsys.product.cmsweb.module.${tableInfo.master.modulePkg?uncap_first}.controller;\r\n\r\nimport com.nnk.ecsys.cms.client.${tableInfo.master.protoFile?cap_first}Service;\r\nimport com.nnk.ecsys.product.cmsweb.common.UserUtils;\r\nimport com.nnk.ecsys.product.cmsweb.model.query.cms.ProductInfoQuery;\r\nimport com.nnk.ecsys.product.cmsweb.module.${tableInfo.master.modulePkg?uncap_first}.model.${tableInfo.master.protoEntity?cap_first}MasterEditer;\r\nimport com.nnk.ecsys.product.cmsweb.module.${tableInfo.master.modulePkg?uncap_first}.model.${tableInfo.master.protoEntity?cap_first}Query;\r\nimport com.nnk.ecsys.product.cmsweb.web.controller.BaseController;\r\nimport com.nnk.ecsys.protocol.cms.${tableInfo.master.protoFile?cap_first};\r\nimport com.nnk.ecsys.protocol.cms.Model;\r\nimport com.nnk.ecsys.protocol.common.Enum;\r\nimport com.nnk.ecsys.utils.BeanUtilsExt;\r\nimport org.apache.commons.lang.StringUtils;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.ModelMap;\r\nimport org.springframework.web.bind.annotation.ModelAttribute;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestMethod;\r\nimport org.springframework.web.multipart.MultipartFile;\r\nimport org.springframework.web.servlet.ModelAndView;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\n/**\r\n * @author yuderen\r\n * @version ${.now}\r\n */\r\n@Controller\r\n@RequestMapping(\"/${tableInfo.master.infoName?uncap_first}\")\r\npublic class ${tableInfo.master.infoName?cap_first}Controller extends BaseController{\r\n	<#assign jspPath = tableInfo.master.modulePkg?uncap_first + \"/\" + tableInfo.master.infoName?uncap_first +\"/\" + tableInfo.master.infoName?uncap_first/>\r\n\r\n    @Autowired\r\n    private ${tableInfo.master.protoFile?cap_first}Service ${tableInfo.master.protoFile?uncap_first}Service;\r\n\r\n    /******************************************${tableInfo.master.tableComment}*******************************************/\r\n    public String query${tableInfo.master.infoName?cap_first}MasterList(${tableInfo.master.protoEntity?cap_first}Query query, ModelMap modelMap) {\r\n        ${tableInfo.master.protoFile?cap_first}.Query${tableInfo.master.protoEntity?cap_first}Response response =\r\n                ${tableInfo.master.protoFile?uncap_first}Service.query${tableInfo.master.protoEntity?cap_first}(query.builderQueryRequest(null).build());\r\n        if (response.getErrorCode().getErrorCode() == 0) {\r\n            query.setPaginationResponse(response.getPagination());\r\n        }\r\n        List<Model.${tableInfo.master.protoEntity?cap_first}> list = response.getResultList();\r\n        query.addToModel(modelMap);\r\n        modelMap.addAttribute(\"resultList\", list);\r\n        return \"${jspPath}List\";\r\n    }\r\n\r\n    @RequestMapping(value = \"/${tableInfo.master.infoName?uncap_first}MasterList\")\r\n    public String pay${tableInfo.master.infoName?cap_first}MasterList(${tableInfo.master.protoEntity?cap_first}Query query, ModelMap modelMap) {\r\n        return query${tableInfo.master.infoName?cap_first}MasterList(query, modelMap);\r\n    }\r\n\r\n    @RequestMapping(value = \"/${tableInfo.master.infoName?uncap_first}List\")\r\n    public String ${tableInfo.master.infoName?uncap_first}List(${tableInfo.master.protoEntity?cap_first}Query query, ModelMap modelMap) {\r\n        return query${tableInfo.master.infoName?cap_first}MasterList(query, modelMap);\r\n    }\r\n\r\n    @RequestMapping(\"/${tableInfo.master.infoName?uncap_first}MasterCreator\")\r\n    public String ${tableInfo.master.infoName?uncap_first}MasterCreator(ModelMap modelMap){\r\n        setPageModeForCreator(modelMap);\r\n        get${tableInfo.master.infoName?cap_first}MasterViewer(null,modelMap);\r\n        return \"${jspPath}ViewForCreator\";\r\n    }\r\n\r\n    @RequestMapping(value = \"/${tableInfo.master.infoName?uncap_first}MasterCreator.do\", method = RequestMethod.POST)\r\n    public ModelAndView ${tableInfo.master.infoName?uncap_first}Creator(${tableInfo.master.protoEntity?cap_first}MasterEditer editer){\r\n        ${tableInfo.master.protoFile?cap_first}.Create${tableInfo.master.protoEntity?cap_first}MasterRequest request = null;\r\n        try {\r\n            request = editer.buildCreateRequest();\r\n        } catch (Exception e){\r\n            return getErrorResponse(e.getMessage());\r\n        }\r\n        ${tableInfo.master.protoFile?cap_first}.Create${tableInfo.master.protoEntity?cap_first}MasterResponse response = ${tableInfo.master.protoFile?uncap_first}Service.create${tableInfo.master.protoEntity?cap_first}Master(request);\r\n        return getAjaxDoneResponseWithNewId(response.getErrorCode(), response.get${tableInfo.master.priKey?cap_first}());\r\n    }\r\n\r\n    @RequestMapping(value = \"/${tableInfo.master.infoName?uncap_first}MasterDeleter.do\", method = RequestMethod.POST)\r\n    public ModelAndView ${tableInfo.master.infoName?uncap_first}MasterDeleter(Long[] ${tableInfo.master.priKey?uncap_first}s){\r\n        ${tableInfo.master.protoFile?cap_first}.Delete${tableInfo.master.protoEntity?cap_first}MasterResponse response = ${tableInfo.master.protoFile?uncap_first}Service.delete${tableInfo.master.protoEntity?cap_first}Master(\r\n                ${tableInfo.master.protoFile?cap_first}.Delete${tableInfo.master.protoEntity?cap_first}MasterRequest.newBuilder()\r\n                        .addAll${tableInfo.master.priKey?cap_first}(Arrays.asList(${tableInfo.master.priKey?uncap_first}s)).setOperateUserId(UserUtils.getCurrentUserId()).build());\r\n        if(response.getErrorCode().getErrorCode() == 0){\r\n            return getSuccessResponse();\r\n        }\r\n        return getErrorResponse(response.getErrorCode().getErrorMsg());\r\n    }\r\n\r\n    @RequestMapping(\"/${tableInfo.master.infoName?uncap_first}MasterEditor\")\r\n    public String ${tableInfo.master.infoName?uncap_first}MasterEditor(Long ${tableInfo.master.priKey?uncap_first},ModelMap modelMap){\r\n        setPageModeForEditor(modelMap);\r\n        get${tableInfo.master.infoName?cap_first}MasterViewer(${tableInfo.master.priKey?uncap_first},modelMap);\r\n        return \"${jspPath}ViewForEditor\";\r\n    }\r\n\r\n    @RequestMapping(value = \"/${tableInfo.master.infoName?uncap_first}MasterEditor.do\", method = RequestMethod.POST)\r\n    public ModelAndView ${tableInfo.master.infoName?uncap_first}MasterEditor(${tableInfo.master.protoEntity?cap_first}MasterEditer editer){\r\n        ${tableInfo.master.protoFile?cap_first}.Update${tableInfo.master.protoEntity?cap_first}MasterRequest request = null;\r\n        try {\r\n            request = editer.buildUpdateRequest();\r\n        } catch (Exception e){\r\n            return getErrorResponse(1,e.getMessage());\r\n        }\r\n        ${tableInfo.master.protoFile?cap_first}.Update${tableInfo.master.protoEntity?cap_first}MasterResponse response = ${tableInfo.master.protoFile?uncap_first}Service.update${tableInfo.master.protoEntity?cap_first}Master(request);\r\n        return response.getErrorCode().getErrorCode() == 0 ? getSuccessResponse() : getErrorResponse(response.getErrorCode().getErrorMsg());\r\n    }\r\n\r\n    @RequestMapping(\"/${tableInfo.master.infoName?uncap_first}MasterViewForViewer\")\r\n    public String ${tableInfo.master.infoName?uncap_first}MasterViewer(Long ${tableInfo.master.priKey?uncap_first},ModelMap modelMap){\r\n        setPageModeForViewer(modelMap);\r\n        return get${tableInfo.master.infoName?cap_first}MasterViewer(${tableInfo.master.priKey?uncap_first},modelMap);\r\n    }\r\n\r\n    public String get${tableInfo.master.infoName?cap_first}MasterViewer(Long ${tableInfo.master.priKey?uncap_first},ModelMap modelMap){\r\n<#list tableInfo.slave as slave>\r\n        int ${slave.infoName?uncap_first}Size = 0;\r\n</#list>\r\n        if(null != ${tableInfo.master.priKey?uncap_first}){\r\n            Model.${tableInfo.master.protoEntity?cap_first}.Builder ${tableInfo.master.infoName?uncap_first} = Model.${tableInfo.master.protoEntity?cap_first}.newBuilder();\r\n            ${tableInfo.master.infoName?uncap_first}.set${tableInfo.master.priKey?cap_first}(${tableInfo.master.priKey?uncap_first});\r\n            ${tableInfo.master.protoFile?cap_first}.Query${tableInfo.master.protoEntity?cap_first}MasterRequest request = ${tableInfo.master.protoFile?cap_first}.Query${tableInfo.master.protoEntity?cap_first}MasterRequest.newBuilder()\r\n                    .set${tableInfo.master.infoName?cap_first}(${tableInfo.master.infoName?uncap_first}).build();\r\n            ${tableInfo.master.protoFile?cap_first}.Query${tableInfo.master.protoEntity?cap_first}MasterResponse response = ${tableInfo.master.protoFile?uncap_first}Service.query${tableInfo.master.protoEntity?cap_first}Master(request);\r\n            modelMap.addAttribute(\"data\",response.getResult().get${tableInfo.master.infoName?cap_first}());\r\n<#list tableInfo.slave as slave>\r\n            modelMap.addAttribute(\"${slave.infoName?uncap_first}List\",response.getResult().getEdit${slave.infoName?cap_first}List());\r\n            ${slave.infoName?uncap_first}Size = response.getResult().getEdit${slave.infoName?cap_first}List().size();\r\n</#list>\r\n        }\r\n<#list tableInfo.slave as slave>\r\n        modelMap.addAttribute(\"${slave.infoName?uncap_first}Size\",${slave.infoName?uncap_first}Size);\r\n</#list>\r\n        return \"${jspPath}ViewForViewer\";\r\n    }\r\n\r\n}\r\n', 'controller.java', '2', 'web/com/nnk/ecsys/product/cmsweb/module/${tableInfo.master.modulePkg?uncap_first}/controller', '0', '1511164072976', NULL);
INSERT INTO `nnk_code`.`ecsys_model_config` (`id`, `file_name`, `model_content`, `model_name`, `model_type`, `save_path`, `status`, `create_time`, `update_time`) VALUES ('33', '${tableInfo.master.protoEntity?cap_first}Query.java', 'package com.nnk.ecsys.product.cmsweb.module.${tableInfo.master.modulePkg?uncap_first}.model;\r\n\r\nimport com.nnk.ecsys.product.cmsweb.model.query.common.CommonQuery;\r\nimport com.nnk.ecsys.protocol.cms.Model;\r\nimport com.nnk.ecsys.protocol.cms.${tableInfo.master.protoFile?cap_first};\r\nimport com.nnk.ecsys.protocol.common.Enum;\r\nimport org.apache.commons.lang.StringUtils;\r\n\r\n/**\r\n * @author : yuderen\r\n * @version: ${.now}\r\n */\r\npublic class ${tableInfo.master.protoEntity?cap_first}Query extends CommonQuery {\r\n\r\n    public ${tableInfo.master.protoFile?cap_first}.Query${tableInfo.master.protoEntity?cap_first}Request.Builder builderQueryRequest(${tableInfo.master.protoFile?cap_first}.Query${tableInfo.master.protoEntity?cap_first}Request.Builder builder){\r\n        if(null == builder) builder  = ${tableInfo.master.protoFile?cap_first}.Query${tableInfo.master.protoEntity?cap_first}Request.newBuilder();\r\n<#list tableInfo.master.columns as search>\r\n<#if search.searchColumn == true>\r\n    <#if search.filedType == \"String\">\r\n        if(StringUtils.isNotBlank(${search.columnName}))\r\n    <#else>\r\n        if(null != ${search.columnName} && 0 <= ${search.columnName})\r\n    </#if>\r\n    <#if search.enumBool>\r\n            get${tableInfo.master.entityName?cap_first}Builder().set${search.columnName?cap_first}(Enum.${search.enumType}.valueOf(${search.columnName}));\r\n    <#elseif search.amountBool>\r\n            get${tableInfo.master.entityName?cap_first}Builder().set${search.columnName?cap_first}(Math.round(${search.columnName}*10000));\r\n    <#else>\r\n            get${tableInfo.master.entityName?cap_first}Builder().set${search.columnName?cap_first}(${search.columnName});\r\n    </#if>\r\n</#if>\r\n</#list>\r\n        if(this.orderField == null) {\r\n            this.setOrderField(\"createTime\");\r\n            this.setOrderDirection(\"desc\");\r\n        }\r\n        if(null != buildCreateTimeRange()) builder.setCreateTime(getCreateTimeRange());\r\n        if (null != buildUpdateTimeRange()) builder.setUpdateTime(getUpdateTimeRange());\r\n        builder.setPagination(buildPaginationRequest());\r\n        if(null != ${tableInfo.master.protoEntity?uncap_first}Builder) builder.set${tableInfo.master.infoName?cap_first}(${tableInfo.master.protoEntity?uncap_first}Builder);\r\n        return builder;\r\n    }\r\n\r\n\r\n<#list tableInfo.master.columns as search>\r\n<#if search.searchColumn == true>\r\n<#if search.amountBool == true>\r\n    public void set${search.fieldName?cap_first}(Double ${search.fieldName}) {\r\n        this.${search.fieldName} = ${search.fieldName};\r\n    }\r\n<#else>\r\n    public void set${search.fieldName?cap_first}(${search.filedType} ${search.fieldName}) {\r\n        this.${search.fieldName} = ${search.fieldName};\r\n    }\r\n</#if>\r\n</#if>\r\n</#list>\r\n\r\n    public Model.${tableInfo.master.protoEntity?cap_first}.Builder get${tableInfo.master.protoEntity?cap_first}Builder() {\r\n        if(null == ${tableInfo.master.protoEntity?uncap_first}Builder)\r\n            ${tableInfo.master.protoEntity?uncap_first}Builder  = Model.${tableInfo.master.protoEntity?cap_first}.newBuilder();\r\n        return ${tableInfo.master.protoEntity?uncap_first}Builder;\r\n    }\r\n\r\n<#list tableInfo.master.columns as search>\r\n<#if search.searchColumn == true>\r\n<#if search.amountBool == true>\r\n    protected Double ${search.fieldName};\r\n<#else>\r\n    protected ${search.filedType} ${search.fieldName};\r\n</#if>\r\n</#if>\r\n</#list>\r\n    private Model.${tableInfo.master.protoEntity?cap_first}.Builder ${tableInfo.master.protoEntity?uncap_first}Builder;\r\n\r\n}\r\n', 'query.java', '2', 'web/com/nnk/ecsys/product/cmsweb/module/${tableInfo.master.modulePkg?uncap_first}/model', '0', '1511164072976', NULL);
INSERT INTO `nnk_code`.`ecsys_model_config` (`id`, `file_name`, `model_content`, `model_name`, `model_type`, `save_path`, `status`, `create_time`, `update_time`) VALUES ('34', '${tableInfo.master.protoEntity?cap_first}MasterEditer.java', 'package com.nnk.ecsys.product.cmsweb.module.${tableInfo.master.modulePkg?uncap_first}.model;\r\n\r\nimport com.nnk.ecsys.product.cmsweb.common.UserUtils;\r\nimport com.nnk.ecsys.protocol.cms.${tableInfo.master.protoFile?cap_first};\r\nimport com.nnk.ecsys.protocol.cms.Model;\r\nimport com.nnk.ecsys.utils.BeanUtilsExt;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n/**\r\n * @author yuderen\r\n * @version ${.now}\r\n */\r\npublic class ${tableInfo.master.protoEntity?cap_first}MasterEditer {\r\n<#list tableInfo.master.columns as column>\r\n<#if column.amountBool>\r\n    private Double ${column.columnName?uncap_first};\r\n</#if>\r\n</#list>\r\n<#list tableInfo.slave as slave>\r\n    private String del${slave.infoName?cap_first}Ids;\r\n    private List<${slave.infoName?cap_first}Transfer> add${slave.infoName?cap_first}List = new ArrayList();\r\n    private List<${slave.infoName?cap_first}Transfer> edit${slave.infoName?cap_first}List = new ArrayList();\r\n</#list>\r\n    private Model.${tableInfo.master.protoEntity?cap_first}Master.Builder builder = Model.${tableInfo.master.protoEntity?cap_first}Master.newBuilder();\r\n    private Model.${tableInfo.master.protoEntity?cap_first}.Builder ${tableInfo.master.infoName?uncap_first} = Model.${tableInfo.master.protoEntity?cap_first}.newBuilder();\r\n\r\n    public ${tableInfo.master.protoFile?cap_first}.Create${tableInfo.master.protoEntity?cap_first}MasterRequest buildCreateRequest() throws Exception {\r\n        initSpecialAttr();\r\n        return ${tableInfo.master.protoFile?cap_first}.Create${tableInfo.master.protoEntity?cap_first}MasterRequest.newBuilder().set${tableInfo.master.infoName?cap_first}Master(builder)\r\n                .setOperateUserId(UserUtils.getCurrentUserId()).build();\r\n    }\r\n\r\n    public ${tableInfo.master.protoFile?cap_first}.Update${tableInfo.master.protoEntity?cap_first}MasterRequest buildUpdateRequest() throws Exception {\r\n        initSpecialAttr();\r\n        return ${tableInfo.master.protoFile?cap_first}.Update${tableInfo.master.protoEntity?cap_first}MasterRequest.newBuilder().set${tableInfo.master.infoName?cap_first}Master(builder)\r\n                .setOperateUserId(UserUtils.getCurrentUserId()).build();\r\n    }\r\n\r\n    private void initSpecialAttr() throws Exception {\r\n<#list tableInfo.slave as slave>\r\n        initDel${slave.infoName?cap_first}();\r\n		initAdd${slave.infoName?cap_first}();\r\n		initEdit${slave.infoName?cap_first}();\r\n</#list>\r\n<#list tableInfo.master.columns as column>\r\n	<#if column.amountBool>\r\n        this.${tableInfo.master.infoName?uncap_first}.set${column.columnName?cap_first}(Math.round(${column.columnName?uncap_first}*10000));\r\n	</#if>\r\n</#list>\r\n        this.builder.set${tableInfo.master.infoName?cap_first}(${tableInfo.master.infoName?uncap_first});\r\n    }\r\n	\r\n<#list tableInfo.slave as slave>\r\n    private void initDel${slave.infoName?cap_first}(){\r\n        String[] del${slave.infoName?cap_first}Arr = del${slave.infoName?cap_first}Ids.split(\"\\\\|\");\r\n        for (String id : del${slave.infoName?cap_first}Arr){\r\n            if (!\"\".equals(id)){\r\n                this.builder.addDel${slave.infoName?cap_first}${slave.priKey?cap_first}(Long.parseLong(id));\r\n            }\r\n        }\r\n    }\r\n	\r\n    private void initAdd${slave.infoName?cap_first}(){\r\n        for (${slave.infoName?cap_first}Transfer transfer : add${slave.infoName?cap_first}List){\r\n            if (null != transfer.get${slave.priKey?cap_first}()){\r\n                Model.${slave.protoEntity?cap_first}.Builder ${slave.infoName?uncap_first} = Model.${slave.protoEntity?cap_first}.newBuilder();\r\n                BeanUtilsExt.copyProperties(transfer,${slave.infoName?uncap_first});\r\n				this.builder.addAdd${slave.infoName?cap_first}(${slave.infoName?uncap_first});\r\n            }\r\n        }\r\n    }\r\n	\r\n    private void initEdit${slave.infoName?cap_first}(){\r\n        for (${slave.infoName?cap_first}Transfer transfer : edit${slave.infoName?cap_first}List){\r\n            if (null != transfer.get${slave.priKey?cap_first}()){\r\n                Model.${slave.protoEntity?cap_first}.Builder ${slave.infoName?uncap_first} = Model.${slave.protoEntity?cap_first}.newBuilder();\r\n                BeanUtilsExt.copyProperties(transfer,${slave.infoName?uncap_first});\r\n				this.builder.addEdit${slave.infoName?cap_first}(${slave.infoName?uncap_first});\r\n            }\r\n        }\r\n    }\r\n\r\n</#list>\r\n\r\n<#list tableInfo.master.columns as column>\r\n<#if column.amountBool>\r\n    public Double get${column.columnName?cap_first}() {\r\n        return ${column.columnName?uncap_first};\r\n    }\r\n\r\n    public void set${column.columnName?cap_first}(Double ${column.columnName?uncap_first}) {\r\n        this.${column.columnName?uncap_first} = ${column.columnName?uncap_first};\r\n    }\r\n\r\n</#if>\r\n</#list>\r\n\r\n<#list tableInfo.slave as slave>  \r\n    public String getDel${slave.infoName?cap_first}Ids() {\r\n        return del${slave.infoName?cap_first}Ids;\r\n    }\r\n\r\n    public void setDel${slave.infoName?cap_first}Ids(String del${slave.infoName?cap_first}Ids) {\r\n        this.del${slave.infoName?cap_first}Ids = del${slave.infoName?cap_first}Ids;\r\n    }\r\n\r\n    public List<${slave.infoName?cap_first}Transfer> getAdd${slave.infoName?cap_first}List() {\r\n        return add${slave.infoName?cap_first}List;\r\n    }\r\n\r\n    public void setAdd${slave.infoName?cap_first}list(List<${slave.infoName?cap_first}Transfer> add${slave.infoName?cap_first}List) {\r\n        this.add${slave.infoName?cap_first}List = add${slave.infoName?cap_first}List;\r\n    }\r\n\r\n    public List<${slave.infoName?cap_first}Transfer> getEdit${slave.infoName?cap_first}List() {\r\n        return edit${slave.infoName?cap_first}List;\r\n    }\r\n\r\n    public void setEdit${slave.infoName?cap_first}List(List<${slave.infoName?cap_first}Transfer> edit${slave.infoName?cap_first}list) {\r\n        this.edit${slave.infoName?cap_first}List = edit${slave.infoName?cap_first}List;\r\n    }\r\n\r\n</#list>\r\n    public Model.${tableInfo.master.protoEntity?cap_first}.Builder get${tableInfo.master.infoName?cap_first}() {\r\n        return ${tableInfo.master.infoName?uncap_first};\r\n    }\r\n\r\n    public void set${tableInfo.master.infoName?cap_first}(Model.${tableInfo.master.protoEntity?cap_first}.Builder ${tableInfo.master.infoName?uncap_first}) {\r\n        this.${tableInfo.master.infoName?uncap_first} = ${tableInfo.master.infoName?uncap_first};\r\n    }\r\n\r\n    public Model.${tableInfo.master.protoEntity?cap_first}Master.Builder getBuilder() {\r\n        return builder;\r\n    }\r\n\r\n    public void setBuilder(Model.${tableInfo.master.protoEntity?cap_first}Master.Builder builder) {\r\n        this.builder = builder;\r\n    }\r\n\r\n}\r\n', 'MasterEditer.java', '2', 'web/com/nnk/ecsys/product/cmsweb/module/${tableInfo.master.modulePkg?uncap_first}/model', '0', '1511164072976', NULL);
INSERT INTO `nnk_code`.`ecsys_model_config` (`id`, `file_name`, `model_content`, `model_name`, `model_type`, `save_path`, `status`, `create_time`, `update_time`) VALUES ('35', '${tableInfo.master.infoName?cap_first}Transfer.java', '<#list tableInfo.slave as slave>\r\npackage com.nnk.ecsys.product.cmsweb.module.${tableInfo.master.modulePkg?uncap_first}.model;\r\n\r\nimport com.nnk.ecsys.protocol.common.Enum;\r\n\r\n/**\r\n * @author yuderen\r\n * @version ${.now}\r\n */\r\npublic class ${slave.infoName?cap_first}Transfer {\r\n\r\n<#list slave.columns as column>\r\n<#if column.batchColumn>\r\n<#if column.enumBool>\r\n    private Enum.${column.enumType?cap_first} ${column.columnName?uncap_first};\r\n<#else>\r\n    private ${column.filedType?cap_first} ${column.columnName?uncap_first};\r\n</#if>\r\n</#if>\r\n</#list>\r\n\r\n<#list slave.columns as column>\r\n<#if column.batchColumn>\r\n<#if column.enumBool>\r\n    public Enum.${column.enumType?cap_first} get${column.columnName?cap_first}() {\r\n        return ${column.columnName?uncap_first};\r\n    }\r\n\r\n    public void set${column.columnName?cap_first}(Enum.${column.enumType?cap_first} ${column.columnName?uncap_first}) {\r\n        this.${column.columnName?uncap_first} = ${column.columnName?uncap_first};\r\n    }\r\n\r\n<#else>\r\n    public ${column.filedType?cap_first} get${column.columnName?cap_first}() {\r\n        return ${column.columnName?uncap_first};\r\n    }\r\n\r\n    public void set${column.columnName?cap_first}(${column.filedType?cap_first} ${column.columnName?uncap_first}) {\r\n        this.${column.columnName?uncap_first} = ${column.columnName?uncap_first};\r\n    }\r\n\r\n</#if>\r\n</#if>\r\n</#list>\r\n}\r\n</#list>', 'Transfer.java', '2', 'web/com/nnk/ecsys/product/cmsweb/module/${tableInfo.master.modulePkg?uncap_first}/model', '0', '1511164072976', NULL);
INSERT INTO `nnk_code`.`ecsys_model_config` (`id`, `file_name`, `model_content`, `model_name`, `model_type`, `save_path`, `status`, `create_time`, `update_time`) VALUES ('36', '${tableInfo.master.modulePkg?uncap_first}ViewData.jsp', '<%@ page import=\"com.nnk.ecsys.product.cmsweb.web.jstl.HtmlUtils\" %>\r\n<%@ page import=\"com.nnk.ecsys.utils.model.enums.enumer.*\" %>\r\n<%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" session=\"false\" pageEncoding=\"UTF-8\" %>\r\n<%@ include file=\"/WEB-INF/pages/template/include.jsp\" %>\r\n<#list tableInfo.master.columns as search>\r\n    <#if search.enumBool>\r\n<c:set var=\"${search.enumType}Enumer\" value=\"<%=${search.enumType}Enumer.class.getName()%>\" />\r\n    </#if>\r\n</#list>\r\n<#list tableInfo.master.columns as column>\r\n<#if tableInfo.master.priKey == column.columnName || column.columnName == \'createTime\' || column.columnName == \'updateTime\'>\r\n<div class=\"unit\" edit-mode=\"disabled\" create-mode=\"hidden\">\r\n<#else>\r\n<div class=\"unit\">\r\n</#if>\r\n    <label>${column.columnComment}</label>\r\n<#if column.enumBool>\r\n    <select name=\"${tableInfo.master.infoName?uncap_first}.${column.columnName}\" class=\"combox\" initValue=\"${\'$\'}{data.${column.columnName}}\">\r\n        <%=HtmlUtils.getValueSelectorForEnumer(${column.enumType}Enumer.class)%>\r\n    </select>\r\n<#elseif column.columnName == \'createTime\' || column.columnName == \'updateTime\'>\r\n    <input type=\"text\" value=\"${\'$\'}{nnk:convertMillisecondToLongDateString(data.${column.columnName})}\" size=\"40\"/>\r\n<#else>\r\n    <#if column.protoType == \"double\"><#assign paramType = \"number\"><#elseif column.protoType ==\"string\"><#assign paramType = \"\"><#else><#assign paramType = \"digits\"></#if>\r\n<#if column.amountBool>\r\n    <input name=\"${column.columnName}\" type=\"text\" class=\"number\" value=\"${\'$\'}{nnk:formatAmountDef(data.${column.columnName})}\" size=\"40\"/>\r\n<#else>\r\n    <input name=\"${tableInfo.master.infoName?uncap_first}.${column.columnName}\" type=\"text\" class=\"${paramType}\" value=\"${\'$\'}{data.${column.columnName}}\" size=\"40\"/>\r\n</#if>\r\n</#if>\r\n</div>\r\n</#list>', 'masterViewData.jsp', '2', 'jsp/web/webapp/WEB-INF/pages/${tableInfo.master.modulePkg?uncap_first}/${tableInfo.master.infoName?uncap_first}', '0', '1511164072976', NULL);
INSERT INTO `nnk_code`.`ecsys_model_config` (`id`, `file_name`, `model_content`, `model_name`, `model_type`, `save_path`, `status`, `create_time`, `update_time`) VALUES ('37', 'slaveViewData.jsp', '<#list tableInfo.slave as slave>\r\n<%@ page import=\"com.nnk.ecsys.product.cmsweb.web.jstl.HtmlUtils\" %>\r\n<%@ page import=\"com.nnk.ecsys.utils.model.enums.enumer.*\" %>\r\n<%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" session=\"false\" pageEncoding=\"UTF-8\" %>\r\n<%@ include file=\"/WEB-INF/pages/template/include.jsp\" %>\r\n\r\n\r\n<div class=\"unit unitHeader\">\r\n    <h2>${slave.tableComment}</h2>\r\n</div>\r\n<div class=\"unit\">\r\n    <label>添加${slave.tableComment}：</label>\r\n    <a class=\"button add${slave.infoName?cap_first}Btn\"><span>添加</span></a>\r\n</div>\r\n<div class=\"unit divTable\">\r\n    <input name=\"curr${slave.infoName?cap_first}Size\" value=\"${\'$\'}{${slave.infoName?uncap_first}Size}\" type=\"hidden\"/>\r\n    <input name=\"del${slave.infoName?cap_first}Ids\" value=\"\" type=\"hidden\"/>\r\n    <table class=\"list viewTable ${slave.infoName?uncap_first}\" style=\"width: 75%\">\r\n        <thead>\r\n            <tr>\r\n        <#list slave.columns as column>\r\n            <#if column.batchColumn>\r\n                <th>${column.columnComment}</th>\r\n            </#if>\r\n        </#list>\r\n                <th>操作</th>\r\n            </tr>\r\n	</thead>\r\n        <c:forEach var=\"item\" items=\"${\'$\'}{${slave.infoName?uncap_first}List}\" varStatus=\"s\">\r\n            <tr>\r\n                <input name=\"edit${slave.infoName?cap_first}List[${\'$\'}{s.index}].${slave.priKey}\" type=\"hidden\" value=\"${\'$\'}{item.${slave.priKey}}\">\r\n    <#list slave.columns as column>\r\n	<#if column.batchColumn>\r\n            <#if column.enumBool>\r\n                <td>\r\n                    <select name=\"edit${slave.infoName?cap_first}List[${\'$\'}{s.index}].${column.columnName}\" initValue=\"${\'$\'}{item.${column.columnName}}\" class=\"combox\">\'<%=HtmlUtils.getValueSelectorForEnumer(${column.enumType}Enumer.class)%>\r\n                </td>\r\n            <#elseif column.amountBool>\r\n                <td><input name=\"edit${slave.infoName?cap_first}List[${\'$\'}{s.index}].${column.columnName}\" type=\"text\" value=\"${\'$\'}{nnk:formatAmountDef(item.${column.columnName})}\" size=\"20\" class=\"number\"></td>\r\n            <#else>\r\n                <td><input name=\"edit${slave.infoName?cap_first}List[${\'$\'}{s.index}].${column.columnName}\" type=\"text\" size=\"10\" value=\"${\'$\'}{item.${column.columnName}}\" class=\"\"></td>\r\n            </#if>\r\n	</#if>\r\n    </#list>\r\n                <td><a name=\"list[${\'$\'}{s.index}].delBtn\" class=\"button del${slave.infoName?cap_first}Btn\"><span>删除</span></a></td>\r\n            </tr>\r\n        </c:forEach>\r\n    </table>\r\n</div>\r\n<script type=\"text/javascript\">\r\n\r\n\r\n    /**\r\n     * 点击按钮添加${slave.tableComment}\r\n     */\r\n    $(\'.add${slave.infoName?cap_first}Btn\').unbind(\"click\").bind(\"click\",function (e) {\r\n        var $parent = navTab.getCurrentPanel();\r\n        var currSize = $(\"input[name=\'curr${slave.infoName?cap_first}Size\'\",$parent).val();\r\n        append${slave.infoName?cap_first}(currSize,$parent);\r\n    });\r\n\r\n    /**\r\n     * 删除${slave.tableComment}(通过dwz框架绑定事件删除)\r\n     */\r\n    $(\'.del${slave.infoName?cap_first}Btn\').unbind(\"click\").bind(\"click\",function (e) {\r\n        if($(this).hasClass(\"buttonDisabled\")) return false;\r\n        $(this).parent().parent().remove();\r\n        del${slave.infoName?cap_first}Ids(this);\r\n    });\r\n\r\n    function del${slave.infoName?cap_first}Ids(obj) {\r\n        var delIds = $(\"input[name=\'del${slave.infoName?cap_first}Ids\']\",navTab.getCurrentPanel()).val();\r\n        var gid = $(\"input[name$=\'gid\']\",$(obj).parent().parent()).val();\r\n        delIds += gid + \"|\";\r\n        $(\"input[name=\'del${slave.infoName?cap_first}Ids\']\",navTab.getCurrentPanel()).val(delIds);\r\n    }\r\n\r\n    /**\r\n     * 删除${slave.tableComment}（无dwz绑定事件）\r\n     * @param obj\r\n     * @returns \r\n     */\r\n    function delete${slave.infoName?cap_first}Tr(obj){\r\n        if($(obj).parent().hasClass(\"buttonDisabled\")) return false;\r\n        $(obj).parent().parent().parent().remove();\r\n    }\r\n\r\n\r\n    /**\r\n     * 添加表数据\r\n     */\r\n    function append${slave.infoName?cap_first}(currSize,$parent) {\r\n        var i = parseInt(currSize);\r\n        var str =\'<tr><input name=\"add${slave.infoName?cap_first}List[\'+ i +\'].${slave.priKey}\" type=\"hidden\" value=\"0\">\';\r\n<#list slave.columns as column>\r\n<#if column.batchColumn>\r\n    <#if column.enumBool>\r\n        str +=\'<td>\';\r\n        str +=\'<select name=\"add${slave.infoName?cap_first}List[\'+ i +\'].${column.columnName}\" initValue=\"\" class=\"combox\"><%=HtmlUtils.getValueSelectorForEnumer(${column.enumType}Enumer.class)%>\';\r\n        str +=\'</td>\';\r\n    <#elseif column.amountBool>\r\n        str +=\'<td><input name=\"add${slave.infoName?cap_first}List[\'+ i +\'].${column.columnName}\" type=\"text\" value=\"\" size=\"20\" class=\"number\"></td>\';\r\n    <#else>\r\n        str +=\'<td><input name=\"add${slave.infoName?cap_first}List[\'+ i +\'].${column.columnName}\" type=\"text\" size=\"10\" value=\"\" class=\"\"></td>\';\r\n    </#if>\r\n</#if>\r\n</#list>\r\n        str += \'<td><a class=\"button\"><span onclick=\"delete${slave.infoName?cap_first}Tr(this)\">删除</span></a></td>\';\r\n        str += \'</tr>\';\r\n        $(\'.${slave.infoName?uncap_first}\',$parent).append(str);\r\n        $(\"input[name=\'curr${slave.infoName?cap_first}Size\'\",$parent).val(i+1);\r\n        navTab.getCurrentPanel().initUI();\r\n    }\r\n</script>\r\n</#list>', 'slaveViewData.jsp', '2', 'jsp/web/webapp/WEB-INF/pages/${tableInfo.master.modulePkg?uncap_first}/${tableInfo.master.infoName?uncap_first}', '0', '1511164072976', NULL);
INSERT INTO `nnk_code`.`ecsys_model_config` (`id`, `file_name`, `model_content`, `model_name`, `model_type`, `save_path`, `status`, `create_time`, `update_time`) VALUES ('38', '${tableInfo.master.infoName?uncap_first}List.jsp', '<%@ page import=\"com.nnk.ecsys.product.cmsweb.web.jstl.HtmlUtils\" %>\r\n<#list tableInfo.master.columns as column>\r\n    <#if column.enumBool>\r\n<%@ page import=\"com.nnk.ecsys.utils.model.enums.enumer.${column.enumType}Enumer\" %>\r\n    </#if>\r\n</#list>\r\n<%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" session=\"false\" pageEncoding=\"UTF-8\" %>\r\n<%@ include file=\"/WEB-INF/pages/template/include.jsp\" %>\r\n\r\n<form id=\"pagerForm\" class=\"search-pager-form\" method=\"post\" action=\"${tableInfo.master.infoName?uncap_first}/${tableInfo.master.infoName?uncap_first}List\">\r\n    <c:import url=\"/WEB-INF/pages/template/search-page-form.jsp\" ></c:import>\r\n</form>\r\n\r\n<form id=\"inputForm\" class=\"search-input-form\" method=\"post\" rel=\"pagerForm\" action=\"${tableInfo.master.infoName}/${tableInfo.master.infoName}List\"\r\n      onsubmit=\"return ($(this).valid() && navTabSearch(this))\">\r\n    <div class=\"pageHeader\">\r\n        <div class=\"searchBar\">\r\n            <#list tableInfo.master.columns as search>\r\n<#if search.searchColumn>\r\n            <#if search_index % 4 == 0>\r\n            <ul class=\"searchContent\">\r\n            </#if>\r\n                <li>\r\n                    <label>${search.columnComment}：</label>\r\n                <#if search.enumBool == true>\r\n                    <select name=\"${search.columnName}\" class=\"combox\" class=\"editable\" initValue=\"${\'$\'}{param.${search.columnName}}\">\r\n                        <%=HtmlUtils.getSelectorForEnumerWithNone(${search.enumType}Enumer.class)%>\r\n                    </select>\r\n                <#else>\r\n<#if search.protoType == \"double\"><#assign paramType = \"number\"><#elseif search.protoType ==\"string\"><#assign paramType = \"\"><#else><#assign paramType = \"digits\"></#if>\r\n                    <input type=\"text\" name=\"${search.columnName}\" class=\"${paramType} unSubmitBlank\" value=\"${\'$\'}{param.${search.columnName}}\"/>\r\n                </#if>\r\n                </li>\r\n            <#if search_index % 4 == 3 || !search_has_next>\r\n            </ul>\r\n            </#if>\r\n</#if>\r\n            </#list>\r\n            <ul class=\"searchContent\">\r\n                <c:import url=\"/WEB-INF/pages/template/search-create-li.jsp\"></c:import>\r\n            </ul>\r\n            <c:import url=\"/WEB-INF/pages/template/search-bar-action.jsp\" ></c:import>\r\n        </div>\r\n    </div>\r\n</form>\r\n\r\n<div class=\"pageContent\">\r\n    <div class=\"panelBar\">\r\n        <ul class=\"toolBar\">\r\n            <li><verify:a class=\"add\" href=\"${tableInfo.master.infoName?uncap_first}/${tableInfo.master.infoName?uncap_first}Creator\" target=\"navTab\" title=\"创建记录\" rel=\"tab${tableInfo.master.infoName?cap_first}Creator\"><span>添加</span></verify:a></li>\r\n            <li><verify:a class=\"delete\" href=\"${tableInfo.master.infoName?uncap_first}/${tableInfo.master.infoName?uncap_first}Deleter.do\" target=\"selectedTodo\" title=\"确定要删除吗？\" warn=\"请选择一条记录\" rel=\"${tableInfo.master.priKey}s\"><span>删除</span></verify:a></li>\r\n            <li><verify:a class=\"edit\" href=\"${tableInfo.master.infoName?uncap_first}/${tableInfo.master.infoName?uncap_first}Editor?${tableInfo.master.priKey}={itemId}\" target=\"navTab\" warn=\"请选择一条记录\" rel=\"${tableInfo.master.priKey}s\"><span>编辑</span></verify:a></li>\r\n        </ul>\r\n    </div>\r\n    <c:import url=\"/WEB-INF/pages/template/pagination.jsp\"></c:import>\r\n    <table class=\"table\" selectRel=\"${tableInfo.master.priKey}s\">\r\n        <c:import url=\"${tableInfo.master.infoName?uncap_first}ListTable.jsp\"></c:import>\r\n    </table>\r\n</div>\r\n', 'masterList.jsp', '2', 'jsp/web/webapp/WEB-INF/pages/${tableInfo.master.modulePkg?uncap_first}/${tableInfo.master.infoName?uncap_first}', '0', '1511164072976', NULL);
INSERT INTO `nnk_code`.`ecsys_model_config` (`id`, `file_name`, `model_content`, `model_name`, `model_type`, `save_path`, `status`, `create_time`, `update_time`) VALUES ('39', '${tableInfo.master.infoName?uncap_first}ListTable.jsp', '<#list tableInfo.master.columns as column>\r\n    <#if column.enumBool>\r\n<%@ page import=\"com.nnk.ecsys.utils.model.enums.enumer.${column.enumType}Enumer\" %>\r\n    </#if>\r\n</#list>\r\n<%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" session=\"false\" pageEncoding=\"UTF-8\" %>\r\n<%@ include file=\"/WEB-INF/pages/template/include.jsp\" %>\r\n\r\n<#list tableInfo.master.columns as search>\r\n    <#if search.enumBool>\r\n<c:set var=\"${search.enumType}Enumer\" value=\"<%=${search.enumType}Enumer.class.getName()%>\" />\r\n    </#if>\r\n</#list>\r\n\r\n<thead>\r\n<tr>\r\n    <th class=\"table-data-rowNum\">序号</th>\r\n<#list tableInfo.master.columns as show>\r\n<#if show.showColumn>\r\n<#if show.columnName == tableInfo.master.priKey>\r\n    <th class=\"table-data-id\">${show.columnComment}</th>\r\n<#else>\r\n    <th>${show.columnComment}</th>\r\n</#if>\r\n</#if>\r\n</#list>\r\n    <th class=\"table-data-date ${\'$\'}${\'{\'}orderField eq \'createTime\' ? orderDirection : \'nnk-default-asc\'}\" orderField=\"createTime\">创建时间</th>\r\n    <th>操作</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<c:forEach var=\"item\" items=\"${\'$\'}{resultList}\" varStatus=\"s\">\r\n    <c:set var=\"itemId\" value=\"${\'$\'}{item.${tableInfo.master.priKey}}\" ></c:set>\r\n    <tr rel=\"${\'$\'}{itemId}\" target=\"itemId\">\r\n        <td>${\'$\'}{s.index + 1 + (pageNum - 1) * numPerPage}</td>\r\n<#list tableInfo.master.columns as show>\r\n<#if show.showColumn>\r\n    <#if show.columnName == tableInfo.master.priKey>\r\n        <td><a href=\"${tableInfo.master.infoName?uncap_first}/${tableInfo.master.infoName?uncap_first}ViewForViewer?${tableInfo.master.priKey}=${\'$\'}{itemId}\" target=\"navTab\" rel=\"tab${tableInfo.master.infoName?cap_first}Viewer${\'$\'}{itemId}\" title=\"等级：${\'$\'}{itemId}\">${\'$\'}{itemId}</a></td>\r\n    <#elseif show.columnName == \'updateTime\' || show.columnName == \'createTime\'>\r\n		<td>${\'$\'}{nnk:convertMillisecondToLongDateString(item.${show.columnName})}</td>\r\n	<#else>\r\n        <#if show.enumBool>\r\n        <td>${\'$\'}{nnk:getEnumStringForNumber(${show.enumType}Enumer, item.${show.columnName}.number)}</td>\r\n        <#elseif show.amountBool>\r\n        <td>${\'$\'}{nnk:formatAmountDef(item.${show.columnName})} 元</td>\r\n        <#else>\r\n        <td>${\'$\'}{item.${show.columnName}}</td>\r\n        </#if>\r\n    </#if>\r\n</#if>\r\n</#list>\r\n        <td>\r\n            <a href=\"${tableInfo.master.infoName?uncap_first}/${tableInfo.master.infoName?uncap_first}ViewForViewer?${tableInfo.master.priKey}=${\'$\'}{itemId}\" target=\"navTab\" rel=\"tab${tableInfo.master.infoName?cap_first}Viewer${\'$\'}{itemId}\" title=\"${tableInfo.master.priKey}：${\'$\'}{itemId}\" class=\"\"> 【查看】 </a>\r\n            <verify:a href=\"${tableInfo.master.infoName?uncap_first}/${tableInfo.master.infoName?uncap_first}Editor?${tableInfo.master.priKey}=${\'$\'}{itemId}\" target=\"navTab\" rel=\"tab${tableInfo.master.infoName?cap_first}Viewer${\'$\'}{itemId}\" title=\"${tableInfo.master.priKey}：${\'$\'}{itemId}\" class=\"\"> 【编辑】 </verify:a>\r\n        </td>\r\n    </tr>\r\n</c:forEach>\r\n</tbody>\r\n', 'masterListTable.jsp', '2', 'jsp/web/webapp/WEB-INF/pages/${tableInfo.master.modulePkg?uncap_first}/${tableInfo.master.infoName?uncap_first}', '0', '1511164072976', NULL);
INSERT INTO `nnk_code`.`ecsys_model_config` (`id`, `file_name`, `model_content`, `model_name`, `model_type`, `save_path`, `status`, `create_time`, `update_time`) VALUES ('40', '${tableInfo.master.infoName?uncap_first}ViewForCreator.jsp', '<%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" session=\"false\" pageEncoding=\"UTF-8\" %>\r\n<%@ include file=\"/WEB-INF/pages/template/include.jsp\" %>\r\n\r\n<form id=\"viewerForm\"\r\n      class=\"pageForm required-validate viewerForm\"\r\n      method=\"post\"\r\n      action=\"${tableInfo.master.infoName?uncap_first}/${tableInfo.master.infoName?uncap_first}MasterCreator.do\"\r\n      viewer-mode=\"${\'$\'}{_pageViewerMode}\"\r\n      onsubmit=\"return validateCallback(this, navTabAjaxDone);\">\r\n    <div class=\"pageContent\">\r\n        <div class=\"pageFormContent\">\r\n            <input type=\"hidden\" name=\"callbackType\" value=\"closeCurrentAndForward\"/>\r\n            <input type=\"hidden\" name=\"forwardUrl\" value=\"${tableInfo.master.infoName?uncap_first}/${tableInfo.master.infoName?uncap_first}MasterViewForViewer?${tableInfo.master.priKey}=\"/>\r\n            <input type=\"hidden\" name=\"navTabId\" value=\"tab${tableInfo.master.infoName?cap_first}MasterViewer\"/>\r\n            <input type=\"hidden\" name=\"navTabTitle\" value=\"新增的信息\"/>\r\n            <c:import url=\"${tableInfo.master.infoName?uncap_first}ViewData.jsp\" ></c:import>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"formBar\">\r\n        <ul>\r\n            <li><a>\r\n                <div class=\"buttonActive\"><div class=\"buttonContent\"><button type=\"submit\">创 建</button></div></div>\r\n            </a></li>\r\n        </ul>\r\n    </div>\r\n</form>', 'masterViewForCreator.jsp', '2', 'jsp/web/webapp/WEB-INF/pages/${tableInfo.master.modulePkg?uncap_first}/${tableInfo.master.infoName?uncap_first}', '0', '1511164072976', NULL);
INSERT INTO `nnk_code`.`ecsys_model_config` (`id`, `file_name`, `model_content`, `model_name`, `model_type`, `save_path`, `status`, `create_time`, `update_time`) VALUES ('41', '${tableInfo.master.infoName?uncap_first}ViewForEditor.jsp', '<%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" session=\"false\" pageEncoding=\"UTF-8\" %>\r\n<%@ include file=\"/WEB-INF/pages/template/include.jsp\" %>\r\n\r\n<form id=\"viewerForm\"\r\n      class=\"pageForm required-validate viewerForm\"\r\n      method=\"post\"\r\n      action=\"${tableInfo.master.infoName?uncap_first}/${tableInfo.master.infoName?uncap_first}MasterEditor.do\"\r\n      viewer-mode=\"${\'$\'}{_pageViewerMode}\"\r\n      onsubmit=\"return validateCallback(this, navTabAjaxDone);\">\r\n    <div class=\"pageContent\">\r\n        <div class=\"pageFormContent\">\r\n            <input type=\"hidden\" name=\"callbackType\" value=\"forward\" />\r\n            <input type=\"hidden\" name=\"forwardUrl\" value=\"${tableInfo.master.infoName?uncap_first}/${tableInfo.master.infoName?uncap_first}MasterViewForViewer?${tableInfo.master.priKey}=${\'$\'}{data.${tableInfo.master.priKey}}\" />\r\n            <c:import url=\"${tableInfo.master.infoName?uncap_first}ViewData.jsp\" ></c:import>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"formBar\">\r\n        <ul>\r\n            <li><a>\r\n                <div class=\"buttonActive\"><div class=\"buttonContent\"><button type=\"submit\">提 交</button></div></div>\r\n            </a></li>\r\n        </ul>\r\n        <ul>\r\n            <li><a href=\"${tableInfo.master.infoName?uncap_first}/${tableInfo.master.infoName?uncap_first}MasterViewForViewer?${tableInfo.master.priKey}=${\'$\'}{data.${tableInfo.master.priKey}}\" type=\"button\" target=\"navTab\" rel=\"${\'$\'}{data.${tableInfo.master.priKey}}\" title=\"id：${\'$\'}{data.${tableInfo.master.priKey}}\">\r\n                <div class=\"buttonActive\"><div class=\"buttonContent\"><button type=\"button\">返 回</button></div></div>\r\n            </a></li>\r\n        </ul>\r\n    </div>\r\n</form>', 'masterViewForEditor.jsp', '2', 'jsp/web/webapp/WEB-INF/pages/${tableInfo.master.modulePkg?uncap_first}/${tableInfo.master.infoName?uncap_first}', '0', '1511164072976', NULL);
INSERT INTO `nnk_code`.`ecsys_model_config` (`id`, `file_name`, `model_content`, `model_name`, `model_type`, `save_path`, `status`, `create_time`, `update_time`) VALUES ('42', '${tableInfo.master.infoName?uncap_first}ViewForViewer.jsp', '<%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" session=\"false\" pageEncoding=\"UTF-8\" %>\r\n<%@ include file=\"/WEB-INF/pages/template/include.jsp\" %>\r\n\r\n<form id=\"viewerForm\"\r\n      class=\"pageForm required-validate viewerForm\"\r\n      viewer-mode=\"${\'$\'}{_pageViewerMode}\"\r\n      onsubmit=\"return validateCallback(this, navTabAjaxDone);\">\r\n    <div class=\"pageContent\">\r\n        <div class=\"pageFormContent\">\r\n            <c:import url=\"${tableInfo.master.infoName?uncap_first}ViewData.jsp\" ></c:import>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"formBar\">\r\n        <ul>\r\n            <li><verify:a href=\"${tableInfo.master.infoName?uncap_first}/${tableInfo.master.infoName?uncap_first}MasterEditor?${tableInfo.master.priKey}=${\'$\'}{data.${tableInfo.master.priKey}}\" type=\"button\" target=\"navTab\" rel=\"${\'$\'}{data.${tableInfo.master.priKey}}\" title=\"编辑：${\'$\'}{data.${tableInfo.master.priKey}}\">\r\n                <div class=\"buttonActive\"><div class=\"buttonContent\"><button type=\"button\">编 辑</button></div></div>\r\n            </verify:a></li>\r\n        </ul>\r\n    </div>\r\n</form>', 'masterViewForViewer.jsp', '2', 'jsp/web/webapp/WEB-INF/pages/${tableInfo.master.modulePkg?uncap_first}/${tableInfo.master.infoName?uncap_first}', '0', '1511164072976', NULL);
INSERT INTO `nnk_code`.`ecsys_model_config` (`id`, `file_name`, `model_content`, `model_name`, `model_type`, `save_path`, `status`, `create_time`, `update_time`) VALUES ('43', '${tableInfo.master.infoName?uncap_first}ListForCheck.jsp', '<%@ page import=\"com.nnk.ecsys.product.cmsweb.web.jstl.HtmlUtils\" %>\r\n<%@ page import=\"com.nnk.ecsys.utils.model.enums.enumer.*\" %>\r\n<%@ page contentType=\"text/html;charset=UTF-8\" pageEncoding=\"UTF-8\"%>\r\n<%@ include file=\"/WEB-INF/pages/template/include.jsp\" %>\r\n\r\n<#list tableInfo.master.columns as search>\r\n    <#if search.enumBool>\r\n<c:set var=\"${search.enumType}Enumer\" value=\"<%=${search.enumType}Enumer.class.getName()%>\" />\r\n    </#if>\r\n</#list>\r\n\r\n<form id=\"pagerForm\" method=\"post\" action=\"${tableInfo.master.infoName?uncap_first}/${tableInfo.master.infoName?uncap_first}ListForCheck?lookUpType=${\'$\'}${\'{\'}lookUpType}\">\r\n    <input type=\"hidden\" name=\"pageNum\" value=\"${\'$\'}${\'{\'}param.pageNum}\" />\r\n    <input type=\"hidden\" name=\"numPerPage\" value=\"${\'$\'}${\'{\'}numPerPage}\" />\r\n</form>\r\n\r\n<div class=\"pageHeader\" look-up=\"lookUp\" look-up-type=\"${\'$\'}${\'{\'}lookUpType}\">\r\n    <form id=\"inputForm\" class=\"search-input-form\" method=\"post\" rel=\"pagerForm\" action=\"${tableInfo.master.infoName?uncap_first}/${tableInfo.master.infoName?uncap_first}ListForCheck?lookUpType=${\'$\'}${\'{\'}lookUpType}\"\r\n          onsubmit=\"return dialogSearch(this);\" >\r\n        <div class=\"searchBar\">\r\n            <#list tableInfo.master.columns as search>\r\n<#if search.searchColumn>\r\n            <#if search_index % 2 == 0>\r\n            <ul class=\"searchContent\">\r\n            </#if>\r\n                <li>\r\n                    <label>${search.columnComment}：</label>\r\n                <#if search.enumBool == true>\r\n                    <select name=\"${search.columnName}\" class=\"combox\" class=\"editable\" initValue=\"${\'$\'}{param.${search.columnName}}\">\r\n                        <%=HtmlUtils.getSelectorForEnumerWithNone(${search.enumType}Enumer.class)%>\r\n                    </select>\r\n                <#else>\r\n<#if search.protoType == \"double\"><#assign paramType = \"number\"><#elseif search.protoType ==\"string\"><#assign paramType = \"\"><#else><#assign paramType = \"digits\"></#if>\r\n                    <input type=\"text\" name=\"${search.columnName}\" class=\"${paramType} unSubmitBlank\" value=\"${\'$\'}{param.${search.columnName}}\"/>\r\n                </#if>\r\n                </li>\r\n            <#if search_index % 2 == 1 || !search_has_next>\r\n            </ul>\r\n            </#if>\r\n</#if>\r\n            </#list>\r\n            <div class=\"subBar\">\r\n                <ul>\r\n                    <li><div class=\"buttonActive\"><div class=\"buttonContent\"><button type=\"submit\">查询</button></div></div></li>\r\n                    <li>\r\n						<div class=\"button\">\r\n							<div class=\"buttonContent\">\r\n								<button type=\"button\" multLookupList=\"${tableInfo.master.priKey}\" warn=\"请选择信息\" multlookupcallback=\"callBack${tableInfo.master.infoName?cap_first}\">选择带回</button>\r\n							</div>\r\n						</div>\r\n					</li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </form>\r\n</div>\r\n\r\n<div class=\"pageContent\" look-up=\"lookUp\" look-up-type=\"${\'$\'}${\'{\'}lookUpType}\">\r\n    <table class=\"table\" layoutH=\"118\" targetType=\"dialog\" width=\"100%\">\r\n        <thead>\r\n        <tr>\r\n            <th up-type=\"one\" class=\"lookUpCs\"><input type=\"checkbox\" onchange=\"changeSelect(this)\" />操作</th>\r\n            <th class=\"table-data-rowNum\">序号</th>\r\n	<#list tableInfo.master.columns as show>\r\n		<#if show.showColumn>\r\n			<th>${show.columnComment}</th>\r\n		</#if>\r\n	</#list>\r\n        </tr>\r\n        </thead>\r\n        <tbody>\r\n        <c:forEach var=\"item\" items=\"${\'$\'}${\'{\'}resultList}\" varStatus=\"s\">\r\n<#list tableInfo.master.columns as show>\r\n	<#if show.showColumn>\r\n		<#if show.enumBool>\r\n			<c:set var=\"${show.columnName}Name\" value=\"${\'$\'}${\'{\'}nnk:getEnumStringForNumber(${show.enumType}Enumer, item.${show.columnName}.number)}\" ></c:set>\r\n		</#if>\r\n	</#if>\r\n</#list>\r\n            <tr rel=\"${\'$\'}{itemId}\" target=\"itemId\">\r\n                <td up-type=\"one\" class=\"lookUpCs\">\r\n                    <a class=\"btnSelect\" href=\"javascript:$.bringBack({\r\n														<#list tableInfo.master.columns as show>\r\n															<#if show.showColumn>\r\n																<#if show.enumBool>\r\n																	${show.columnName}:\'${\'$\'}${\'{\'}${show.columnName}}\',\r\n																	${show.columnName}Name:\'${\'$\'}${\'{\'}${show.columnName}Name}\',\r\n																<#elseif show.amountBool>\r\n																	${show.columnName}:${\'$\'}${\'{\'}nnk:formatAmountDef(item.${show.columnName})}},\r\n																<#else>\r\n																	${show.columnName}:\'${\'$\'}${\'{\'}${show.columnName}}\',\r\n																</#if>\r\n															</#if>\r\n														</#list>\r\n																	});\" title=\"查找带回\">选择</a>\r\n                </td>\r\n                <td>${\'$\'}{s.index + 1 + (pageNum - 1) * numPerPage}</td>\r\n    <#list tableInfo.master.columns as show>\r\n		<#if show.showColumn>\r\n			<#if show.enumBool>\r\n				<td>${\'$\'}${\'{\'}nnk:getEnumStringForNumber(${show.enumType}Enumer, item.${show.columnName}.number)}</td>\r\n			<#elseif show.amountBool>\r\n				<td>${\'$\'}${\'{\'}nnk:formatAmountDef(item.${show.columnName})} 元</td>\r\n			<#else>\r\n				<td>${\'$\'}{item.${show.columnName}}</td>\r\n			</#if>\r\n		</#if>\r\n	</#list>\r\n            </tr>\r\n        </c:forEach>\r\n        </tbody>\r\n    </table>\r\n    <script>\r\n        function changeSelect(obj) {\r\n            $(\"input[name=\'${tableInfo.master.priKey}\']\",$.pdialog.getCurrent()).prop(\"checked\",obj.checked);\r\n        }\r\n    </script>\r\n    <c:import url=\"/WEB-INF/pages/template/paginationForDialog.jsp\"></c:import>\r\n</div>\r\n', 'masterListForCheck.jsp', '2', 'jsp/web/webapp/WEB-INF/pages/${tableInfo.master.modulePkg?uncap_first}/${tableInfo.master.infoName?uncap_first}', '0', '1511164072976', NULL);
INSERT INTO `nnk_code`.`ecsys_model_config` (`id`, `file_name`, `model_content`, `model_name`, `model_type`, `save_path`, `status`, `create_time`, `update_time`) VALUES ('44', '${tableInfo.master.infoName?uncap_first}ListForCheckBatch.jsp', '<%@ page import=\"com.nnk.ecsys.product.cmsweb.web.jstl.HtmlUtils\" %>\r\n<%@ page import=\"com.nnk.ecsys.utils.model.enums.enumer.*\" %>\r\n<%@ page contentType=\"text/html;charset=UTF-8\" pageEncoding=\"UTF-8\"%>\r\n<%@ include file=\"/WEB-INF/pages/template/include.jsp\" %>\r\n\r\n<#list tableInfo.master.columns as search>\r\n    <#if search.enumBool>\r\n<c:set var=\"${search.enumType}Enumer\" value=\"<%=${search.enumType}Enumer.class.getName()%>\" />\r\n    </#if>\r\n</#list>\r\n\r\n<form id=\"pagerForm\" method=\"post\" action=\"${tableInfo.master.infoName?uncap_first}/${tableInfo.master.infoName?uncap_first}ListForCheckBatch?lookUpType=${\'$\'}${\'{\'}lookUpType}\">\r\n    <input type=\"hidden\" name=\"pageNum\" value=\"${\'$\'}${\'{\'}param.pageNum}\" />\r\n    <input type=\"hidden\" name=\"numPerPage\" value=\"${\'$\'}${\'{\'}numPerPage}\" />\r\n</form>\r\n\r\n<div class=\"pageHeader\" look-up=\"lookUp\" look-up-type=\"${\'$\'}${\'{\'}lookUpType}\">\r\n    <form id=\"inputForm\" class=\"search-input-form\" method=\"post\" rel=\"pagerForm\" action=\"${tableInfo.master.infoName?uncap_first}/${tableInfo.master.infoName?uncap_first}ListForCheckBatch?lookUpType=${\'$\'}${\'{\'}lookUpType}\"\r\n          onsubmit=\"return dialogSearch(this);\" >\r\n        <div class=\"searchBar\">\r\n            <#list tableInfo.master.columns as search>\r\n<#if search.searchColumn>\r\n            <#if search_index % 2 == 0>\r\n            <ul class=\"searchContent\">\r\n            </#if>\r\n                <li>\r\n                    <label>${search.columnComment}：</label>\r\n                <#if search.enumBool == true>\r\n                    <select name=\"${search.columnName}\" class=\"combox\" class=\"editable\" initValue=\"${\'$\'}{param.${search.columnName}}\">\r\n                        <%=HtmlUtils.getSelectorForEnumerWithNone(${search.enumType}Enumer.class)%>\r\n                    </select>\r\n                <#else>\r\n<#if search.protoType == \"double\"><#assign paramType = \"number\"><#elseif search.protoType ==\"string\"><#assign paramType = \"\"><#else><#assign paramType = \"digits\"></#if>\r\n                    <input type=\"text\" name=\"${search.columnName}\" class=\"${paramType} unSubmitBlank\" value=\"${\'$\'}{param.${search.columnName}}\"/>\r\n                </#if>\r\n                </li>\r\n            <#if search_index % 2 == 1 || !search_has_next>\r\n            </ul>\r\n            </#if>\r\n</#if>\r\n            </#list>\r\n            <div class=\"subBar\">\r\n                <ul>\r\n                    <li><div class=\"buttonActive\"><div class=\"buttonContent\"><button type=\"submit\">查询</button></div></div></li>\r\n                    <li>\r\n						<div class=\"button\">\r\n							<div class=\"buttonContent\">\r\n								<button type=\"button\" multLookupList=\"${tableInfo.master.priKey}\" warn=\"请选择信息\" multlookupcallback=\"callBack${tableInfo.master.infoName?cap_first}\">选择带回</button>\r\n							</div>\r\n						</div>\r\n					</li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </form>\r\n</div>\r\n\r\n<div class=\"pageContent\" look-up=\"lookUp\" look-up-type=\"${\'$\'}${\'{\'}lookUpType}\">\r\n    <table class=\"table\" layoutH=\"118\" targetType=\"dialog\" width=\"100%\">\r\n        <thead>\r\n        <tr>\r\n            <th up-type=\"one\" class=\"lookUpCs\"><input type=\"checkbox\" onchange=\"changeSelect(this)\" />操作</th>\r\n            <th class=\"table-data-rowNum\">序号</th>\r\n	<#list tableInfo.master.columns as show>\r\n		<#if show.showColumn>\r\n			<th>${show.columnComment}</th>\r\n		</#if>\r\n	</#list>\r\n        </tr>\r\n        </thead>\r\n        <tbody>\r\n        <c:forEach var=\"item\" items=\"${\'$\'}${\'{\'}resultList}\" varStatus=\"s\">\r\n<#list tableInfo.master.columns as show>\r\n	<#if show.showColumn>\r\n		<#if show.enumBool>\r\n			<c:set var=\"${show.columnName}Name\" value=\"${\'$\'}${\'{\'}nnk:getEnumStringForNumber(${show.enumType}Enumer, item.${show.columnName}.number)}\" ></c:set>\r\n		</#if>\r\n	</#if>\r\n</#list>\r\n            <tr rel=\"${\'$\'}{itemId}\" target=\"itemId\">\r\n                <td up-type=\"one\" class=\"lookUpCs\">\r\n                    <input name=\"productId\" type=\"checkbox\" value=\"{\r\n														<#list tableInfo.master.columns as show>\r\n															<#if show.showColumn>\r\n																<#if show.enumBool>\r\n																	${show.columnName}:\'${\'$\'}${\'{\'}${show.columnName}}\',\r\n																	${show.columnName}Name:\'${\'$\'}${\'{\'}${show.columnName}Name}\',\r\n																<#elseif show.amountBool>\r\n																	${show.columnName}:${\'$\'}${\'{\'}nnk:formatAmountDef(item.${show.columnName})}},\r\n																<#else>\r\n																	${show.columnName}:\'${\'$\'}${\'{\'}${show.columnName}}\',\r\n																</#if>\r\n															</#if>\r\n														</#list>\r\n																	}\">\r\n                </td>\r\n                <td>${\'$\'}{s.index + 1 + (pageNum - 1) * numPerPage}</td>\r\n    <#list tableInfo.master.columns as show>\r\n		<#if show.showColumn>\r\n			<#if show.enumBool>\r\n				<td>${\'$\'}${\'{\'}nnk:getEnumStringForNumber(${show.enumType}Enumer, item.${show.columnName}.number)}</td>\r\n			<#elseif show.amountBool>\r\n				<td>${\'$\'}${\'{\'}nnk:formatAmountDef(item.${show.columnName})} 元</td>\r\n			<#else>\r\n				<td>${\'$\'}{item.${show.columnName}}</td>\r\n			</#if>\r\n		</#if>\r\n	</#list>\r\n            </tr>\r\n        </c:forEach>\r\n        </tbody>\r\n    </table>\r\n    <script>\r\n        function changeSelect(obj) {\r\n            $(\"input[name=\'${tableInfo.master.priKey}\']\",$.pdialog.getCurrent()).prop(\"checked\",obj.checked);\r\n        }\r\n    </script>\r\n    <c:import url=\"/WEB-INF/pages/template/paginationForDialog.jsp\"></c:import>\r\n</div>\r\n', 'masterListForCheckBatch.jsp', '2', 'jsp/web/webapp/WEB-INF/pages/${tableInfo.master.modulePkg?uncap_first}/${tableInfo.master.infoName?uncap_first}', '0', '1511164072976', '1512720552133');
INSERT INTO `nnk_code`.`ecsys_model_config` (`id`, `file_name`, `model_content`, `model_name`, `model_type`, `save_path`, `status`, `create_time`, `update_time`) VALUES ('45', '${tableInfo.master.protoEntity?cap_first}Mapper.xml', '<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\r\n<!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\" \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\" >\r\n<mapper namespace=\"com.nnk.ecsys.cms.module.${tableInfo.master.modulePkg?uncap_first}.mapper.${tableInfo.master.protoEntity?cap_first}Mapper\" >\r\n	\r\n    <select id=\"find${tableInfo.master.protoEntity?cap_first}Count\" resultType=\"java.lang.Integer\">\r\n        select count(1) from ${tableInfo.master.tableName} s0\r\n        <include refid=\"find${tableInfo.master.infoName?cap_first}Where\"></include>\r\n    </select>\r\n    <select id=\"findPaged${tableInfo.master.protoEntity?cap_first}\" resultType=\"com.nnk.ecsys.database.mapper.${tableInfo.master.sqlFile?uncap_first}.entity.${tableInfo.master.protoEntity?cap_first}\">\r\n        select * from ${tableInfo.master.tableName} s0\r\n        <include refid=\"find${tableInfo.master.infoName?cap_first}Where\"></include>\r\n        <include refid=\"com.nnk.ecsys.cms.mapper.common.CommonSegmentMapper.OrderBy\"></include>\r\n        limit ${\'#\'}{page.index,jdbcType=INTEGER},${\'#\'}{page.count,jdbcType=INTEGER}\r\n    </select>\r\n    <select id=\"find${tableInfo.master.protoEntity?cap_first}\" resultType=\"com.nnk.ecsys.database.mapper.${tableInfo.master.sqlFile?uncap_first}.entity.${tableInfo.master.protoEntity?cap_first}\">\r\n        select * from ${tableInfo.master.tableName} s0\r\n        WHERE s0.channelId =  ${\'#\'}{channelId,jdbcType=BIGINT}\r\n        AND s0.productId =  ${\'#\'}{productId,jdbcType=BIGINT}\r\n    </select>\r\n    <sql id=\"find${tableInfo.master.infoName?cap_first}Where\">\r\n        <trim prefix=\"WHERE\" prefixOverrides=\"AND|OR\">\r\n            <if test=\"params.has${tableInfo.master.infoName?cap_first}()\">\r\n                <bind name=\"${tableInfo.master.infoName?uncap_first}\" value=\"params.get${tableInfo.master.infoName?cap_first}()\" ></bind>\r\n                <include refid=\"${tableInfo.master.infoName?uncap_first}Sql\" ></include>\r\n            </if>\r\n            <!-- 扩展条件 -->\r\n            <!-- 其他查询条件 -->\r\n            <include refid=\"timeWhere\"></include>\r\n            <if test=\"params.get${tableInfo.master.priKey?cap_first}Count()>0\" >\r\n                AND s0. in\r\n                <foreach item=\"item\" index=\"index\" collection=\"params.get${tableInfo.master.priKey?cap_first}List()\" open=\"(\" separator=\",\" close=\")\">\r\n                    ${\'#\'}{item}\r\n                </foreach>\r\n            </if>\r\n        </trim>\r\n    </sql>\r\n    <sql id=\"${tableInfo.master.infoName?uncap_first}Sql\">\r\n<#list tableInfo.master.columns as search>\r\n	<#if search.searchColumn && search.columnName != \'updateTime\' && search.columnName != \'createTime\'>\r\n        <if test=\"${tableInfo.master.entityName}.has${search.columnName?cap_first}()\">\r\n            <#if search.columnType == \"INT\">\r\n            AND s0.${search.columnName} = ${\'#\'}{${tableInfo.master.entityName}.${search.columnName}<#if search.enumBool>.number</#if>,jdbcType=INTEGER}\r\n            <#elseif search.columnType == \"VARCHAR\" || search.columnType == \"TEXT\">\r\n            AND s0.${search.columnName} LIKE CONCAT(\'%\',${\'#\'}{${tableInfo.master.entityName}.${search.columnName}<#if search.enumBool>.number</#if>,jdbcType=VARCHAR},\'%\')\r\n            <#else>\r\n            AND s0.${search.columnName} = ${\'#\'}{${tableInfo.master.entityName}.${search.columnName}<#if search.enumBool>.number</#if>,jdbcType=${search.columnType?upper_case}}\r\n            </#if>\r\n        </if>\r\n	</#if>\r\n</#list>\r\n\r\n    </sql>\r\n    <sql id=\"timeWhere\">\r\n        <if test=\"params.hasUpdateTime()\">\r\n            <if test=\"params.updateTime.hasStartTime()\" >\r\n                <![CDATA[AND s0.updateTime >= ${\'#\'}{params.updateTime.startTime,jdbcType=BIGINT}]]>\r\n            </if>\r\n            <if test=\"params.updateTime.hasEndTime()\" >\r\n                <![CDATA[AND s0.updateTime <= ${\'#\'}{params.updateTime.endTime,jdbcType=BIGINT} ]]>\r\n            </if>\r\n        </if>\r\n        <if test=\"params.hasCreateTime()\">\r\n            <if test=\"params.createTime.hasStartTime()\" >\r\n                <![CDATA[AND s0.createTime >= ${\'#\'}{params.createTime.startTime,jdbcType=BIGINT}]]>\r\n            </if>\r\n            <if test=\"params.createTime.hasEndTime()\" >\r\n                <![CDATA[AND s0.createTime <= ${\'#\'}{params.createTime.endTime,jdbcType=BIGINT} ]]>\r\n            </if>\r\n        </if>\r\n    </sql>\r\n</mapper>', 'masterMapper.xml', '2', 'server/resources/com/nnk/ecsys/cms/mapper/${tableInfo.master.modulePkg?uncap_first}', '0', '1511164072976', NULL);
INSERT INTO `nnk_code`.`ecsys_model_config` (`id`, `file_name`, `model_content`, `model_name`, `model_type`, `save_path`, `status`, `create_time`, `update_time`) VALUES ('46', '${tableInfo.master.protoEntity?cap_first}Mapper.java', 'package com.nnk.ecsys.cms.module.${tableInfo.master.modulePkg?uncap_first}.mapper;\r\n\r\nimport com.nnk.ecsys.cms.model.common.PaginationRequest;\r\nimport com.nnk.ecsys.database.mapper.${tableInfo.master.sqlFile?uncap_first}.entity.${tableInfo.master.protoEntity?cap_first};\r\nimport com.nnk.ecsys.protocol.cms.${tableInfo.master.modulePkg?cap_first};\r\nimport org.apache.ibatis.annotations.Param;\r\n\r\nimport java.util.List;\r\n\r\n/**\r\n * @author : yuderen\r\n * @version: $[.now}\r\n */\r\npublic interface ${tableInfo.master.protoEntity?cap_first}Mapper extends com.nnk.ecsys.database.mapper.${tableInfo.master.sqlFile?uncap_first}.mapper.${tableInfo.master.protoEntity?cap_first}Mapper{\r\n\r\n    int find${tableInfo.master.protoEntity?cap_first}Count(@Param(\"params\") ${tableInfo.master.protoFile?cap_first}.Query${tableInfo.master.protoEntity?cap_first}Request params);\r\n\r\n    List<${tableInfo.master.protoEntity?cap_first}> findPaged${tableInfo.master.protoEntity?cap_first}(@Param(\"page\") PaginationRequest page, @Param(\"params\") ${tableInfo.master.protoFile?cap_first}.Query${tableInfo.master.protoEntity?cap_first}Request params);\r\n\r\n}\r\n', 'mapper.java', '2', 'server/java/com/nnk/ecsys/cms/module/${tableInfo.master.modulePkg?uncap_first}/mapper', '0', '1511164072976', NULL);
INSERT INTO `nnk_code`.`ecsys_model_config` (`id`, `file_name`, `model_content`, `model_name`, `model_type`, `save_path`, `status`, `create_time`, `update_time`) VALUES ('47', '${tableInfo.master.protoEntity?cap_first}SlaveMapper.java', '<#list tableInfo.slave as slave>\r\npackage com.nnk.ecsys.cms.module.${tableInfo.master.modulePkg?uncap_first}.mapper;\r\n\r\nimport com.nnk.ecsys.database.mapper.${tableInfo.master.protoFile?uncap_first}.entity.${slave.protoEntity?cap_first};\r\n\r\nimport java.util.List;\r\n\r\n/**\r\n * @author : yuderen\r\n * @version: 2017-9-18 18:58:57\r\n */\r\npublic interface ${slave.protoEntity?cap_first}Mapper extends com.nnk.ecsys.database.mapper.${tableInfo.master.protoFile?uncap_first}.mapper.${slave.entityName?cap_first}Mapper{\r\n\r\n    List<${slave.protoEntity?cap_first}> find${slave.protoEntity?cap_first}By${slave.linkItem?cap_first}(Long ${slave.linkItem?uncap_first});\r\n\r\n}\r\n</#list>', 'slaveMapper.java', '2', 'server/java/com/nnk/ecsys/cms/module/${tableInfo.master.modulePkg?uncap_first}/mapper', '0', '1511164072976', NULL);
INSERT INTO `nnk_code`.`ecsys_model_config` (`id`, `file_name`, `model_content`, `model_name`, `model_type`, `save_path`, `status`, `create_time`, `update_time`) VALUES ('48', '${tableInfo.master.protoEntity?cap_first}SlaveMapper.xml', '<#list tableInfo.slave as slave>\r\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\r\n<!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\" \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\" >\r\n<mapper namespace=\"com.nnk.ecsys.cms.module.${tableInfo.master.modulePkg?uncap_first}.mapper.${slave.protoEntity?cap_first}Mapper\" >\r\n\r\n    <delete id=\"delete${slave.protoEntity?cap_first}By${slave.linkItem?cap_first}\">\r\n        DELETE FROM ${slave.tableName} WHERE ${slave.linkItem?uncap_first} = ${\'#\'}{${slave.linkItem?uncap_first}}\r\n    </delete>\r\n    <select id=\"find${slave.protoEntity?cap_first}Count\" resultType=\"java.lang.Integer\">\r\n        select count(1) from ${slave.tableName} s0\r\n        <include refid=\"find${slave.infoName?cap_first}Where\"></include>\r\n    </select>\r\n    <select id=\"findPaged${slave.protoEntity?cap_first}\" resultType=\"com.nnk.ecsys.database.mapper.${tableInfo.master.modulePkg?uncap_first}.entity.${slave.protoEntity?cap_first}\">\r\n        select * from ${slave.tableName} s0\r\n        <include refid=\"find${slave.infoName?cap_first}Where\"></include>\r\n        <include refid=\"com.nnk.ecsys.cms.mapper.common.CommonSegmentMapper.OrderBy\"></include>\r\n        limit ${\'#\'}{page.index,jdbcType=INTEGER},${\'#\'}{page.count,jdbcType=INTEGER}\r\n    </select>\r\n    <select id=\"find${slave.protoEntity?cap_first}ByChannelSaleId\" resultType=\"com.nnk.ecsys.database.mapper.${tableInfo.master.modulePkg?uncap_first}.entity.${slave.entityName?cap_first}\">\r\n        select * from ${slave.tableName} s0 WHERE s0.channelSaleId = ${\'#\'}{channelSaleId} AND s0.recordStatus != 2\r\n    </select>\r\n    <sql id=\"find${slave.infoName?cap_first}Where\">\r\n        <trim prefix=\"WHERE\" prefixOverrides=\"AND|OR\">\r\n            <if test=\"params.has${slave.infoName?cap_first}()\">\r\n                <bind name=\"${slave.infoName?uncap_first}\" value=\"params.get${slave.infoName?cap_first}()\" ></bind>\r\n                <include refid=\"${slave.infoName?uncap_first}Sql\" ></include>\r\n            </if>\r\n            <!-- 扩展条件 -->\r\n            <!-- 其他查询条件 -->\r\n            <include refid=\"timeWhere\"></include>\r\n            <if test=\"params.get${slave.priKey?cap_first}Count()>0\" >\r\n                AND s0.${slave.priKey?uncap_first} in\r\n                <foreach item=\"item\" index=\"index\" collection=\"params.get${slave.priKey?cap_first}List()\"\r\n                         open=\"(\" separator=\",\" close=\")\">\r\n                    ${\'#\'}{item}\r\n                </foreach>\r\n            </if>\r\n        </trim>\r\n    </sql>\r\n    <sql id=\"${slave.infoName?uncap_first}Sql\">\r\n<#list slave.columns as search>\r\n	<#if search.searchColumn && search.columnName != \'updateTime\' && search.columnName != \'createTime\'>\r\n        <if test=\"${slave.entityName?uncap_first}}.has${search.columnName?cap_first}()\">\r\n            <#if search.columnType == \"INT\">\r\n            AND s0.${search.columnName} = ${\'#\'}{${slave.entityName?uncap_first}.${search.columnName}<#if search.enumBool>.number</#if>,jdbcType=INTEGER}\r\n            <#elseif search.columnType == \"VARCHAR\" || search.columnType == \"TEXT\">\r\n            AND s0.${search.columnName} LIKE CONCAT(\'%\',${\'#\'}{${slave.entityName?uncap_first}.${search.columnName}<#if search.enumBool>.number</#if>,jdbcType=VARCHAR},\'%\')\r\n            <#else>\r\n            AND s0.${search.columnName} = ${\'#\'}{${slave.entityName?uncap_first}.${search.columnName}<#if search.enumBool>.number</#if>,jdbcType=${search.columnType?upper_case}}\r\n            </#if>\r\n        </if>\r\n	</#if>\r\n</#list>\r\n    </sql>\r\n    <sql id=\"timeWhere\">\r\n        <if test=\"params.hasUpdateTime()\">\r\n            <if test=\"params.updateTime.hasStartTime()\" >\r\n                <![CDATA[AND s0.updateTime >= ${\'#\'}{params.updateTime.startTime,jdbcType=BIGINT}]]>\r\n            </if>\r\n            <if test=\"params.updateTime.hasEndTime()\" >\r\n                <![CDATA[AND s0.updateTime <= ${\'#\'}{params.updateTime.endTime,jdbcType=BIGINT} ]]>\r\n            </if>\r\n        </if>\r\n        <if test=\"params.hasCreateTime()\">\r\n            <if test=\"params.createTime.hasStartTime()\" >\r\n                <![CDATA[AND s0.createTime >= ${\'#\'}{params.createTime.startTime,jdbcType=BIGINT}]]>\r\n            </if>\r\n            <if test=\"params.createTime.hasEndTime()\" >\r\n                <![CDATA[AND s0.createTime <= ${\'#\'}{params.createTime.endTime,jdbcType=BIGINT} ]]>\r\n            </if>\r\n        </if>\r\n    </sql>\r\n</mapper>\r\n</#list>', 'slaveMapper.xml', '2', 'server/resources/com/nnk/ecsys/cms/modele/${tableInfo.master.modulePkg?uncap_first}/mapper', '0', '1511164072976', NULL);

